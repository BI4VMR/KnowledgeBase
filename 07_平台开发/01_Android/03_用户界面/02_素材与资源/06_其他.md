# ID




🔴 示例一：ID资源的简单应用。

在本示例中，我们定义一些ID资源，并使用这些ID。

第一步，我们创建一个资源XML文件，并声明一些ID。

"ids.xml":

```xml
<resources>
    <!-- 定义ID："btnTest" -->
    <item name="btnTest" type="id" />

    <!-- 定义ID："btnTest2" -->
    <item name="btnTest2" type="id" />
</resources>
```

此处的 `type` 属性指明了该条目是一个ID， `name` 属性的值即ID名称。

第二步，我们在布局文件中使用ID资源。

"testui_id_base.xml":

```xml
<Button
    android:id="@id/btnTest"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="这是一个按钮" />
```

此处的 `android:id="@id/btnTest"` 与常见的ID声明语句不同， `@` 符号后没有加号，即表示使用“第一步”中已经定义的ID，而不是声明并使用新的ID。

接下来，我们可以在代码中使用该ID访问控件。

"TestUIIDBase.java":

```java
// 根据ID获取控件
Button button1 = findViewById(R.id.btnTest);
button1.setOnClickListener(
        v -> Toast.makeText(this, "btnTest被点击了", Toast.LENGTH_SHORT).show()
);
```

上述内容也可以使用Kotlin语言编写：

"TestUIIDBaseKT.kt":

```kotlin
// 根据ID获取控件
val button1 = findViewById<Button>(R.id.btnTest)
button1.setOnClickListener {
    Toast.makeText(this@TestUIBaseKT, "btnTest被点击了", Toast.LENGTH_SHORT).show()
}
```

至此，我们已经实现了在布局文件中使用ID；除此之外，我们也可以通过代码为动态生成的控件设置ID。

第三步，我们在代码中使用ID。

"TestUIIDBase.java":

```java
// 使用代码设置控件的ID
Button button2 = new Button(this);
button2.setId(R.id.btnTest2);
container.addView(button2);

// 根据ID获取控件
Button button2_ID = findViewById(R.id.btnTest2);
button2_ID.setOnClickListener(
        v -> Toast.makeText(this, "btnTest2被点击了", Toast.LENGTH_SHORT).show()
);
```

上述内容也可以使用Kotlin语言编写：

"TestUIIDBaseKT.kt":

```kotlin
// 使用代码设置控件的ID
val button2 = Button(this)
button2.id = R.id.btnTest2
binding.container.addView(button2)

// 根据ID获取控件
val button2_ID = findViewById<Button>(R.id.btnTest2)
button2_ID.setOnClickListener {
    Toast.makeText(this@TestUIBaseKT, "btnTest2被点击了", Toast.LENGTH_SHORT).show()
}
```


# 尺寸
屏幕适配：dimen 资源可以针对不同屏幕尺寸或密度提供不同值（如 values-hdpi/dimens.xml），无需在代码中手动判断设备参数。


    <!-- values/dimens.xml -->
    <dimen name="padding_standard">16dp</dimen>
    <!-- values-sw600dp/dimens.xml (平板适配) -->
    <dimen name="padding_standard">24dp</dimen>




🟠 示例二：尺寸资源的简单应用。

在本示例中，我们定义一些尺寸资源，并使用这些尺寸。

第一步，我们创建一个资源XML文件，并声明一些尺寸。

"dimens.xml":

```xml
<resources>
    <!-- 定义尺寸：图标大小 -->
    <dimen name="icon_size">64dp</dimen>

    <!-- 定义尺寸：标题大小 -->
    <dimen name="title_size">24sp</dimen>
</resources>
```

`<dimen />` 标签用于声明尺寸资源， `name` 属性表示资源名称，标签内容表示尺寸的值。

第二步，我们在布局文件中使用尺寸资源。

"testui_dimen_base.xml":

```xml
<ImageView
    android:id="@+id/image"
    android:layout_width="@dimen/icon_size"
    android:layout_height="@dimen/icon_size"
    android:layout_marginStart="10dp"
    android:importantForAccessibility="no"
    android:src="@drawable/ic_funny_256" />
```

我们可以使用 `@dimen/<尺寸资源名称>` 引用尺寸资源。

至此，我们已经实现了在布局文件中使用尺寸资源；除此之外，我们也可以通过代码获取并使用尺寸资源。

第三步，我们在代码中使用尺寸资源。

"TestUIDimenBase.java":

```java
// 将尺寸资源解析为像素值
float sizePX = getResources().getDimension(R.dimen.title_size);
binding.title.setTextSize(TypedValue.COMPLEX_UNIT_PX,sizePX);
```

上述内容也可以使用Kotlin语言编写：

"TestUIDimenBaseKT.kt":

```kotlin
// 将尺寸资源解析为像素值
val dimen: Float = resources.getDimension(R.dimen.title_size)
binding.title.setTextSize(TypedValue.COMPLEX_UNIT_PX, dimen)
```

我们可以使用 `resources` 对象的 `getDimension(int resID)` 方法获取尺寸资源在当前Context下的像素值。

如果我们需要整数形式的像素值，Resources类也提供了对应的方法：

- `int getDimensionPixelSize(int resID)` : 从尺寸资源解析像素值，如果有小数部分，则四舍五入到整数。
- `int getDimensionPixelOffset(int resID)` : 从尺寸资源解析像素值，如果有小数部分，则丢弃并截断到整数。


# 常量
Android支持通过XML定义一些整形、字符串、数组常量，这种方式与代码和配置文件定义的常量并没有什么不同，二者都是不可变的，但可以利用Android资源系统的后缀支持，适配不同环境，也支持Overlay，有利于定制开发。

