# 测试工具

# 添加指定签名

android {
    signingConfigs {
        create("AOSP") {
            storeFile = file("AOSP.keystore")
            storePassword = "AOSPSystem"
            keyAlias = "AOSPSystem"
            keyPassword = "AOSPSystem"
        }
    }

    buildTypes {
        getByName("debug") {
            signingConfig = signingConfigs.getByName("AOSP")
        }
    }

    testBuildType = "debug"

    // 此处省略部分代码...
}


https://developer.android.google.cn/training/testing/local-tests/robolectric?hl=zh-cn




# 防止快速点击

    private fun View.clickAntiJitter(interval: Long = 500L, action: (view: View) -> Unit) {
        setOnClickListener {
            val currentTS = SystemClock.uptimeMillis()
            if (currentTS - lastClickTS < interval) {
                Log.w(TAG, "Click too quickly, ignored!")
                return@setOnClickListener
            }
            lastClickTS = currentTS
            action(it)
        }
    }