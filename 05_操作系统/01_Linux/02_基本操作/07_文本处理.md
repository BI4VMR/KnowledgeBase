# 浏览文本
## "cat"命令
我们经常需要查看各种文本文件，对于内容较少的文件，可以使用"cat"命令。

"cat"命令的常用选项见下文：

🔷 `-b`

显示行号（不含空行）。

🔷 `-n`

显示行号。

🔷 `-v`

显示不可打印字符。

🔷 `-E`

行尾显示"$"符号。

🔷 `-T`

显示制表符。

🔷 `-A`

相当于"-vTE"。

🔴 示例一

查看DNS配置文件。

```text
[root@Fedora ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 223.5.5.5
nameserver 180.76.76.76
```

## "more"命令
"cat"命令会将文件的所有内容一次性输出到终端上，对于较长的文本文件，会导致阅读困难，此时我们可以使用"more"命令。

"more"命令会在输出内容填满整个屏幕后暂停，按 `Enter` 后显示下一屏信息，按空格只显示下一行，按 `B` 键返回上一屏信息。

🟠 示例二

查看SELinux的配置文件，从第8行开始显示。

```text
[root@Fedora ~]# more +8 /etc/selinux/config 
# SELINUXTYPE= can take one of three values:
#   targeted - Targeted processes are protected,
#   minimum - Modification of targeted policy. Only selected processes are protected.
#   mls - Multi Level Security protection.
SELINUXTYPE=targeted
```

添加选项 `+[N]` 表示从第N行开始输出内容。

## "less"命令
"less"命令与"more"命令类似，但它不会加载整个文件，对于长文本性能更好。

"less"使用VIM的操作方式，按方向键逐行滚动，按 `B` 键整屏回滚，按 `Q` 键退出。

在一部分发行版中，存在默认别名 `alias more='less'` ，此时"more"命令等同于"less"。

## "head"命令
有时我们仅需查看文件的起始几行，此时可使用"head"命令。

"head"命令的常用选项见下文：

🔷 `-c`

指定需要显示的字节数。

🔷 `-n`

指定需要显示的行数。

🔷 `-v`

显示文件路径。

🟡 示例三

查看当前用户bash配置文件的前6行。

```text
[root@Fedora ~]# head -n 6 .bashrc 
# .bashrc
# User specific aliases and functions

alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'
```

## "tail"命令
相对于"head"命令，有时我们仅需查看文件的末尾几行，此时可使用"tail"命令。

"tail"命令的选项基本与"head"相同，其特有的"-f"选项可以开启循环读取功能，若文件被追加新内容，"tail"将会实时刷新控制台显示，此功能对于监控日志文件非常有用。

🟢 示例四

查看DNF日志的最近5条信息，并持续监控。

```text
[root@Fedora ~]# tail -n 5 -f /var/log/dnf.log 
Aug 11 16:11:56 Installed: pyldb-1.5.4-2.el7.x86_64
Aug 11 16:11:56 Installed: pytalloc-2.1.16-1.el7.x86_64
Aug 11 16:11:56 Installed: samba-libs-4.10.16-15.el7_9.x86_64
Aug 11 16:11:56 Installed: samba-common-tools-4.10.16-15.el7_9.x86_64
Aug 11 16:11:56 Installed: samba-4.10.16-15.el7_9.x86_64
```

# 统计文本
当我们需要统计文本中的行数、字符数等信息时，可以使用"wc"命令，其常用选项见下文。

🔷 `-c`

统计字节数。

🔷 `-l`

统计行数。

🔷 `-m`

统计字符数。

🔷 `-w`

统计单词(空白或换行分隔的字符串)数。

🔷 `-L`

找出最长的行并输出长度。

🔴 示例一

准备文本文件"test"以供后续测试，并统计其信息。

```text
[root@Fedora ~]# cat test
1 A f s
2 4 a h
d t 3 a
h G 0 j
d z u 0

[root@Fedora ~]# wc test
 5 20 40 test
```

此处输出的信息依次为：行数、有效字符数、字节数、文件路径。

# 搜索文本
"grep"是一个强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来，它的常用选项见下文。

🔷 `-c`

只统计数量。

🔷 `-C`

显示匹配到的行上下文的行数。

🔷 `-f`

将文件中每一行作为关键词。

🔷 `-i`

忽略大小写。

🔷 `-n`

显示行号。

🔷 `-v`

取反，查找不匹配关键字的行。

正则表达式的常用符号及其含义见下表，若搜索条件不是正则表达式，系统默认进行模糊搜索。

🔶 `^`

锚定行首。

🔶 `$`

锚定行尾。

🔶 `.`

匹配任意一个字符。

🔶 `*`

匹配0至多个字符。

🔶 `[C]`

匹配括号内任意一个字符。

🔶 `[C1-C2]`

匹配包含括号内范围任意字符的一个字符。

🔶 `[^C]`

匹配不包含括号内任意字符的一个字符。

🔴 示例一

查找"test"中以"d"开头的行并显示行号。

```text
[root@Fedora ~]# grep -n "^d" test 
3:d t 3 a
5:d z u 0
```

🟠 示例二

查找"test"中不以数字开头的行。

```text
[root@Fedora ~]# grep -v "^[0-9]" test  
d t 3 a
h G 0 j
d z u 0
```

🟡 示例三

查找含有"d"到"g"中任意字母（忽略大小写）且不以数字结尾的行。

```text
[root@Fedora ~]# grep -i "[d-g]" test | grep -v ".*[0-9]$"
1 A f s
d t 3 a
h G 0 j
```

# 显示字符串
当我们需要在控制台上显示文本或变量值时，可以使用 `echo [文本]` 命令，如果字符串含有特殊符号，需使用双引号将其包围，避免产生歧义。

"echo"可以识别的特殊字符包括转义字符、Shell变量名等，转义字符详见相关章节： [🧭 Java - 转义字符](../../../编程语言/Java/02-基本语法/06-控制台交互.md#转义字符) 。

"echo"命令的常用选项见下文：

🔷 `-e`

翻译转义字符。

🔷 `-n`

输出不换行。

🔴 示例一

输出"#"组成的正方形，大小为3*3。

```text
[root@Fedora ~]# echo -e "###\n###\n###"
###
###
###
```

🟠 示例二

显示系统环境变量PATH的内容。

```text
[root@Fedora ~]# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
```
