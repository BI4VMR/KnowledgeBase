# æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯
## "lsblk"å‘½ä»¤
### ç®€ä»‹
"lsblk"æ˜¯"List Block"çš„ç¼©å†™ï¼Œè¯¥å‘½ä»¤èƒ½å¤Ÿæ˜¾ç¤ºç³»ç»Ÿä¸­çš„å—è®¾å¤‡ä¿¡æ¯ã€‚

ç£ç›˜æ˜¯ä¸€ç§å¯éšæœºè®¿é—®çš„å¤§å®¹é‡å­˜å‚¨å™¨ï¼Œæ˜¯ä¸€ç§å—è®¾å¤‡ï¼Œå› æ­¤é€šè¿‡è¯¥å‘½ä»¤èƒ½å¤ŸæŸ¥çœ‹ç£ç›˜çš„ç›¸å…³ä¿¡æ¯ã€‚

### ä½¿ç”¨æ–¹æ³•
"lsblk"å‘½ä»¤çš„è¯­æ³•ä¸ºï¼š `lsblk {é€‰é¡¹} {è®¾å¤‡}` ï¼ŒæŒ‡å®šè®¾å¤‡æ—¶ï¼Œæ˜¾ç¤ºä¸è¯¥è®¾å¤‡ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦åˆ™æ˜¾ç¤ºæ‰€æœ‰å—è®¾å¤‡ä¿¡æ¯ï¼Œå…¶å¸¸ç”¨é€‰é¡¹å‚è§ä¸‹æ–‡ï¼š

ğŸ”· `-a`

æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡ã€‚

ğŸ”· `-f`

æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿã€‚

ğŸ”· `-m`

æ˜¾ç¤ºæƒé™ä¿¡æ¯ã€‚

ğŸ”· `-l`

ä»¥åˆ—è¡¨æ ¼å¼æ˜¾ç¤ºã€‚

### ç¤ºä¾‹
ğŸ”´ ç¤ºä¾‹ä¸€

æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­çš„å—è®¾å¤‡å‚æ•°ã€‚

```text
[root@Fedora ~]# lsblk
NAME      MAJ:MIN  RM  SIZE    RO  TYPE  MOUNTPOINT
sda       8:0      0   128G    0   disk
â”œâ”€sda1    8:1      0   500M    0   part  /boot/efi
â””â”€sda2    8:2      0   127.5G  0   part  /
sdb       8:16     0   1000G   0   disk
sdc       8:32     0   1000G   0   disk
sdd       8:48     0   1000G   0   disk
sde       8:64     0   1000G   0   disk
sr0       11:0     1   1024M   0   rom
```

è¯¥å‘½ä»¤çš„è¾“å‡ºç»“æœä»å·¦è‡³å³ä¾æ¬¡ä¸ºï¼šè®¾å¤‡åç§°ã€ä¸»è¦è®¾å¤‡å·ã€æ¬¡è¦è®¾å¤‡å·ã€æ˜¯å¦ä¸ºä¾¿æºè®¾å¤‡ã€å®¹é‡ã€æ˜¯å¦åªè¯»ã€è®¾å¤‡ç±»å‹ã€æŒ‚è½½ç‚¹ã€‚

## "df"å‘½ä»¤
### ç®€ä»‹
"df"æ˜¯"Disk Free"çš„ç¼©å†™ï¼Œè¯¥å‘½ä»¤ç”¨äºæŸ¥çœ‹æ–‡ä»¶å¯¹ç£ç›˜å ç”¨çš„ç»Ÿè®¡æ•°æ®ã€‚

### ä½¿ç”¨æ–¹æ³•
"df"å‘½ä»¤çš„è¯­æ³•ä¸ºï¼š `df {é€‰é¡¹} {è·¯å¾„}` ï¼ŒæŒ‡å®šè·¯å¾„æ—¶ï¼Œæ˜¾ç¤ºè¯¥è·¯å¾„æ‰€åœ¨åˆ†åŒºçš„æ•°æ®ï¼Œå¦åˆ™æ˜¾ç¤ºæ‰€æœ‰æ•°æ®ï¼Œå…¶å¸¸ç”¨é€‰é¡¹å‚è§ä¸‹æ–‡ï¼š

ğŸ”¶ `-a`

æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡ã€‚

ğŸ”¶ `-i`

æ˜¾ç¤ºinodeç»Ÿè®¡æ•°æ®ã€‚

ğŸ”¶ `-h`

äººæ€§åŒ–æ˜¾ç¤ºå®¹é‡æ•°æ®ï¼ˆ1024è¿›åˆ¶ï¼‰ã€‚

ğŸ”¶ `-H`

äººæ€§åŒ–æ˜¾ç¤ºå®¹é‡æ•°æ®ï¼ˆ1000è¿›åˆ¶ï¼‰ã€‚

ğŸ”¶ `-t`

ä»ç»“æœä¸­ç­›é€‰æŒ‡å®šçš„æ–‡ä»¶ç³»ç»Ÿã€‚

ğŸ”¶ `-x`

ä»ç»“æœä¸­æ’é™¤æŒ‡å®šçš„æ–‡ä»¶ç³»ç»Ÿã€‚

ğŸ”¶ `-T`

æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ã€‚

### ç¤ºä¾‹
ğŸŸ  ç¤ºä¾‹ä¸€

æŸ¥çœ‹æ‰€æœ‰ç£ç›˜åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µï¼Œæ’é™¤â€œä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿâ€ã€‚

```text
[root@Fedora ~]# df -h -x tmpfs -x devtmpfs
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2       126G  1.9G  118G   2% /
/dev/sda1       500M   12M  489M   3% /boot/efi
```

ğŸŸ¡ ç¤ºä¾‹äºŒ

æŸ¥çœ‹ç³»ç»Ÿæ ¹ç›®å½•æ‰€åœ¨ç£ç›˜åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µã€‚

```text
[root@Fedora ~]# df -h /
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2       126G  1.9G  118G   2% /
```

## "du"å‘½ä»¤
### ç®€ä»‹
"du"æ˜¯"Disk Usage"çš„ç¼©å†™ï¼Œç”¨äºç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶çš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚

æœ¬å‘½ä»¤ç»Ÿè®¡æ–‡ä»¶å ç”¨çš„å­˜å‚¨åŒºå—å¤§å°ï¼Œè€Œä¸æ˜¯æ–‡ä»¶æœ¬èº«çš„å¤§å°ï¼Œé€šå¸¸å¤§äº `ls -l` çš„è¾“å‡ºç»“æœï¼Œå› ä¸ºç£ç›˜çš„æœ€å°ç®¡ç†å•å…ƒä¸ºâ€œå—â€ï¼ˆWindowsç§°å…¶ä¸ºâ€œç°‡â€ï¼‰ï¼Œå³ä½¿å—ä¸­å­˜å‚¨çš„æ–‡ä»¶æ²¡æœ‰å æ»¡æ•´ä¸ªç©ºé—´ï¼Œä¹Ÿä¸èƒ½å†å­˜æ”¾å…¶å®ƒæ–‡ä»¶äº†ã€‚

### ä½¿ç”¨æ–¹æ³•
"du"å‘½ä»¤çš„è¯­æ³•ä¸ºï¼š `du {å‚æ•°} {ç›®å½•|æ–‡ä»¶}` ï¼Œè¯¥å‘½ä»¤é»˜è®¤ç»Ÿè®¡å½“å‰ç›®å½•ä¸­æ¯ä¸ªå­ç›®å½•çš„å¤§å°ï¼Œè‹¥éœ€è¦ç»Ÿè®¡æ–‡ä»¶è¯·æ·»åŠ "-a"é€‰é¡¹ã€‚è¯¥å‘½ä»¤çš„å…¶å®ƒé€‰é¡¹å‚è§ä¸‹æ–‡ï¼š

ğŸ”· `-a`

ç»Ÿè®¡ç›®å½•ä¸æ–‡ä»¶ã€‚

ğŸ”· `-s`

ä»…ç»Ÿè®¡é¡¶å±‚ç›®å½•å’Œæ–‡ä»¶ã€‚

ğŸ”· `-c`

æ˜¾ç¤ºæ±‡æ€»ä¿¡æ¯ã€‚

ğŸ”· `-h`

äººæ€§åŒ–æ˜¾ç¤ºå®¹é‡æ•°æ®ï¼ˆ1024è¿›åˆ¶ï¼‰ã€‚

ğŸ”· `-b`

äººæ€§åŒ–æ˜¾ç¤ºå®¹é‡æ•°æ®ï¼ˆ1000è¿›åˆ¶ï¼‰ã€‚

### ç¤ºä¾‹
ğŸŸ¢ ç¤ºä¾‹ä¸€

ç»Ÿè®¡"/usr"ç›®å½•çš„å¤§å°ã€‚

```text
[root@Fedora ~]# du -sh /usr
1.2G    /usr
```

ğŸ”µ ç¤ºä¾‹äºŒ

ç»Ÿè®¡"/root"ç›®å½•ä¸­æ¯ä¸ªRPMåŒ…çš„å¤§å°ï¼Œä¸”æ˜¾ç¤ºæ±‡æ€»ä¿¡æ¯ã€‚

```text
[root@Fedora ~]# du -hsc /root/*.rpm
2.3M    /root/mysql-community-client-8.0.22-1.el8.x86_64.rpm
104K    /root/mysql-community-client-plugins-8.0.22-1.el8.x86_64.rpm
488K    /root/mysql-community-common-8.0.22-1.el8.x86_64.rpm
1.4M    /root/mysql-community-libs-8.0.22-1.el8.x86_64.rpm
41M     /root/mysql-community-server-8.0.22-1.el8.x86_64.rpm
45M     total
```

# åˆ†åŒºç®¡ç†
## "fdisk"å·¥å…·
### ç®€ä»‹
"fdisk"æ˜¯"Format Disk"çš„ç¼©å†™ï¼Œæ˜¯ä¸€æ¬¾äº¤äº’å¼ç£ç›˜åˆ†åŒºå·¥å…·ï¼Œä¸»è¦ç”¨äºç®¡ç†é‡‡ç”¨MBRåˆ†åŒºè¡¨çš„å­˜å‚¨å™¨ã€‚

> ğŸš© æç¤º
>
> æ­¤å·¥å…·å¯¹ç£ç›˜çš„ä¿®æ”¹ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œå› æ­¤é€€å‡ºå‰éœ€ç¡®è®¤å˜æ›´å¹¶ä¿å­˜ã€‚

### ä½¿ç”¨æ–¹æ³•
æ‰§è¡Œ `fdisk -l` å‘½ä»¤å¯ä»¥ä»…æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯ï¼Œä¸è¿›å…¥äº¤äº’å¼ç¯å¢ƒï¼›æ‰§è¡Œ `fdisk [è®¾å¤‡æ–‡ä»¶]` åˆ™å¯ä»¥è¿›å…¥äº¤äº’å¼ç¯å¢ƒï¼ŒæŸ¥çœ‹æˆ–ç¼–è¾‘ç£ç›˜åˆ†åŒºï¼Œäº¤äº’å¼ç¯å¢ƒçš„åŸºæœ¬æ“ä½œå‚è§ä¸‹æ–‡ï¼š

ğŸ”¶ m

æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ã€‚

ğŸ”¶ p

æ˜¾ç¤ºå½“å‰è®¾å¤‡çš„åˆ†åŒºä¿¡æ¯ã€‚

ğŸ”¶ n

å»ºç«‹åˆ†åŒºã€‚

ğŸ”¶ d

åˆ é™¤åˆ†åŒºã€‚

ğŸ”¶ l

æŸ¥çœ‹åˆ†åŒºç±»å‹å‚æ•°ã€‚

ğŸ”¶ t

æ›´æ”¹åˆ†åŒºç±»å‹å‚æ•°ã€‚

ğŸ”¶ u

æ›´æ”¹å®¹é‡è®¡é‡å•ä½ã€‚

ğŸ”¶ w

ä¿å­˜æ›´æ”¹å¹¶é€€å‡ºã€‚

ğŸ”¶ q

ä¸ä¿å­˜æ›´æ”¹å¹¶é€€å‡ºã€‚

### ç¤ºä¾‹
ğŸŸ£ ç¤ºä¾‹ä¸€

ä»…æŸ¥çœ‹ç£ç›˜"sda"çš„åˆ†åŒºä¿¡æ¯ï¼Œä¸è¿›å…¥äº¤äº’å¼ç•Œé¢ã€‚

```text
[root@Fedora ~]# fdisk -l /dev/sda
Disk /dev/sda: 137.4 GB, 137438953472 bytes, 268435456 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: gpt
Disk identifier: 558F9657-45E0-4231-BE5C-5D33F2929D30

#         Start          End    Size  Type            Name
 1         2048      1026047    500M  EFI System      EFI System Partition
 2      1026048    268433407  127.5G  Microsoft basic 
```

å…¶ä¸­"Disk Label Type"è¡¨æ˜äº†ç£ç›˜åˆ†åŒºè¡¨ç±»å‹ï¼Œ"dos"è¡¨ç¤ºMBRåˆ†åŒºï¼Œ"gpt"è¡¨ç¤ºGPTåˆ†åŒºã€‚

ğŸŸ¤ ç¤ºä¾‹äºŒ

ä¸ºç£ç›˜"sdb"åˆ›å»ºä¸€ä¸ªåˆ†åŒºï¼Œå¤§å°ä¸ºæ•´ä¸ªç£ç›˜ã€‚

```text
[root@Fedora ~]# fdisk /dev/sdb
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
# ä½¿ç”¨å‘½ä»¤"n"æ–°å»ºåˆ†åŒº
Command (m for help): n       
Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
# è®¾ç½®ç±»å‹ä¸ºä¸»åˆ†åŒº
Select (default p): p
# è®¾ç½®åˆ†åŒºç¼–å·
Partition number (1-4, default 1): 1
# èµ·å§‹æ‰‡åŒº
# ç•™ç©ºç›´æ¥å›è½¦åˆ™å–é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸º2048ï¼Œå‰ç«¯çš„ç©ºé—´é¢„ç•™ç»™EFIä½¿ç”¨ã€‚
First sector (2048-2097151999, default 2048): 
Using default value 2048
# ç»ˆæ­¢æ‰‡åŒº
# ç•™ç©ºç›´æ¥å›è½¦åˆ™å–é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸ºæœ€å¤§å¯ç”¨æ‰‡åŒºã€‚
Last sector, +sectors or +size{K,M,G} (2048-2097151999, default 2097151999): 
Using default value 2097151999
Partition 1 of type Linux and of size 1000 GiB is set

# æŸ¥çœ‹å½“å‰åˆ†åŒºæƒ…å†µ
Command (m for help): p
[çœç•¥éƒ¨åˆ†å†…å®¹...]
   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048  2097151999  1048574976   83  Linux

# ç¡®è®¤æ›´æ”¹å¹¶é€€å‡º
Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
```

### è¡ç”Ÿå·¥å…·
ğŸ”· "gdisk"

"gdisk"å·¥å…·çš„æ“ä½œæ–¹å¼ä¸"fdisk"å®Œå…¨ç›¸åŒï¼Œå®ƒæ·»åŠ äº†å¯¹GPTåˆ†åŒºè¡¨çš„æ”¯æŒã€‚

ğŸ”· "cfdisk"

"cfdisk"æ˜¯ä¸€æ¬¾é€šè¿‡ç»ˆç«¯æ–‡æœ¬æ¨¡æ‹Ÿç•Œé¢çš„å›¾å½¢åŒ–åˆ†åŒºå·¥å…·ï¼Œå…¶åŠŸèƒ½ä¸"fdisk"å®Œå…¨ç›¸åŒï¼Œæ‰§è¡Œ `"cfdisk [ç£ç›˜è®¾å¤‡]"` å¯å¯¹æŒ‡å®šè®¾å¤‡è¿›è¡Œæ“ä½œï¼Œè¿›å…¥TUIåè¯·ä½¿ç”¨æ–¹å‘é”®é€‰æ‹©æ‰€éœ€çš„åŠŸèƒ½ï¼ŒæŒ‰Enteré”®ç¡®è®¤æ“ä½œã€‚

ğŸ”· "cgdisk"

"gdisk"å·¥å…·çš„TUIç‰ˆæœ¬ï¼Œä½¿ç”¨æ–¹æ³•åŒ"cfdisk"ã€‚

## "parted"å·¥å…·
### ç®€ä»‹
"parted"æ˜¯ä¸€æ¬¾è¾ƒæ–°çš„äº¤äº’å¼ç£ç›˜ç®¡ç†å·¥å…·ï¼Œå¯ç”¨äºç®¡ç†é‡‡ç”¨GPTåˆ†åŒºè¡¨çš„å­˜å‚¨å™¨ï¼Œç”¨æ³•ä¸"fdisk"ç±»ä¼¼ã€‚

> âš ï¸ è­¦å‘Š
>
> æ­¤å·¥å…·å¯¹ç£ç›˜çš„ä¿®æ”¹å°†ä¼šå³æ—¶ç”Ÿæ•ˆï¼Œæ“ä½œå‰è¯·è¿›è¡Œç¡®è®¤å¹¶å¤‡ä»½é‡è¦æ•°æ®ã€‚

### ä½¿ç”¨æ–¹æ³•
"parted"å·¥å…·äº¤äº’å¼ç¯å¢ƒçš„åŸºæœ¬æ“ä½œå‚è§ä¸‹æ–‡ï¼š

ğŸ”· print

æŸ¥çœ‹å½“å‰åˆ†åŒºä¿¡æ¯ã€‚

ğŸ”· select

æ›´æ”¹å½“å‰æ“ä½œçš„è®¾å¤‡ã€‚

ğŸ”· align-check

æ£€æŸ¥åˆ†åŒºæ˜¯å¦å¯¹é½ã€‚

ğŸ”· mklabel

åˆ›å»ºåˆ†åŒºè¡¨ã€‚

ğŸ”· mkpart

åˆ›å»ºåˆ†åŒºã€‚

ğŸ”· rm

åˆ é™¤åˆ†åŒºã€‚

ğŸ”· resizepart

è°ƒæ•´åˆ†åŒºå¤§å°ã€‚

ğŸ”· name

è®¾ç½®åˆ†åŒºåç§°ã€‚

ğŸ”· set

è®¾ç½®æ ‡è®°ã€‚

ğŸ”· quit

é€€å‡ºã€‚

### ç¤ºä¾‹
ğŸ”´ ç¤ºä¾‹ä¸€

å°†ç£ç›˜"sdb"åˆ†åŒºè¡¨è®¾ä¸ºGPTæ ¼å¼ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåˆ†åŒºï¼Œå®¹é‡ä¸ºæ•´ä¸ªç£ç›˜å¯ç”¨ç©ºé—´ã€‚

```text
# è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ
[root@Fedora ~]# parted /dev/sdb
GNU Parted 3.1
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.

# å°†åˆ†åŒºè¡¨ç±»å‹è®¾ä¸ºGPT
(parted) mktable gpt
# åˆ›å»ºåˆ†åŒº
(parted) mkpart
# è®¾ç½®å·æ ‡
# æ­¤å¤„ç›´æ¥å›è½¦è¡¨ç¤ºå·æ ‡ä¸ºç©ºã€‚
Partition name?  []?
# è®¾ç½®æ–‡ä»¶ç³»ç»Ÿç±»å‹
File system type?  [ext2]? xfs
# è®¾ç½®èµ·å§‹ä½ç½®
# è¾“å…¥"1"å°†æ‰§è¡Œ4Kå¯¹é½ï¼Œè‡ªåŠ¨é€‰å–ç¬¬ä¸€ä¸ªå¯ç”¨ä½ç½®ã€‚
Start? 1
# è®¾ç½®ç»ˆæ­¢ä½ç½®
# "100%"å³è¡¨ç¤ºç£ç›˜æœ€å¤§å¯ç”¨ç©ºé—´çš„ä½ç½®ã€‚
End? 100%

# æŸ¥çœ‹æ“ä½œç»“æœ
(parted) print
[çœç•¥éƒ¨åˆ†å†…å®¹...]
Number  Start   End    Size   File system  Name  Flags
1       1049kB  107GB  107GB  xfs

# æ£€æŸ¥åˆ†åŒºæ˜¯å¦å¯¹é½
(parted) align-check
alignment type(min/opt)  [optimal]/minimal?
# è¾“å…¥åˆ†åŒºç¼–å·
Partition number? 1
1 aligned
```

è¯¥å·¥å…·æ”¯æŒé€šè¿‡æ‰‡åŒºã€å®¹é‡ã€æ¯”ä¾‹ç­‰å¤šç§æ–¹å¼å®šä½å­˜å‚¨å•å…ƒã€‚

âœ´ï¸ æ‰‡åŒº

æ‰‡åŒºè¡¨ç¤ºæ–¹æ³•ä¸ºâ€œæ•°å­—+sâ€ï¼Œä¾‹å¦‚"10s"è¡¨ç¤ºç¬¬10ä¸ªæ‰‡åŒºã€‚

âœ´ï¸ å®¹é‡

å®¹é‡è¡¨ç¤ºæ–¹æ³•ä¸ºâ€œæ•°å­—+å•ä½â€ï¼Œ"B"è¡¨ç¤ºå­—èŠ‚ï¼Œ1024è¿›åˆ¶çš„å•ä½åŒ…æ‹¬"KiBã€MiBã€GiBã€TiB"ï¼Œ1000è¿›åˆ¶çš„å•ä½åŒ…æ‹¬"kBã€MBã€GBã€TB"ã€‚

âœ´ï¸ æ¯”ä¾‹

æ¯”ä¾‹å–å€¼èŒƒå›´ä¸º"0%-100%"ï¼Œä»¥æ•´ä¸ªç£ç›˜å¯ç”¨ç©ºé—´ä¸ºåŸºå‡†ã€‚

å¦‚æœæˆ‘ä»¬åœ¨æ•°å€¼å‰æ·»åŠ è´Ÿå·ï¼Œåˆ™è¡¨ç¤ºä»å¯ç”¨ç©ºé—´å°¾éƒ¨å¼€å§‹è®¡æ•°ï¼Œä¾‹å¦‚"-1s"è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªå¯ç”¨æ‰‡åŒºã€‚

ğŸŸ  ç¤ºä¾‹äºŒ

å°†ç£ç›˜"sdb"ä¸Šçš„1å·åˆ†åŒºæ ‡è®°ä¸º"LVM"å·ã€‚

```text
# è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ
[root@Fedora ~]# parted /dev/sdb
GNU Parted 3.1
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.

# ä¿®æ”¹åˆ†åŒºæ ‡è®°
(parted) set
# è®¾ç½®åˆ†åŒºç¼–å·
Partition number? 1
# è®¾ç½®æ ‡è®°"LVM"
# æŒ‰ä¸‹Tabé”®å¯æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æ ‡è®°ã€‚
Flag to Invert? lvm
# è®¾ç½®æ ‡è®°çŠ¶æ€
# æ­¤å¤„ç›´æ¥å›è½¦ä¼šå°†å½“å‰çŠ¶æ€åè½¬
New state?  [on]/off?
```

"set"å‘½ä»¤å¯ä»¥ä¸ºåˆ†åŒºè®¾ç½®æ ‡è®°ï¼Œè¯¥æ ‡è®°åœ¨ç³»ç»Ÿä¸­æ— å®é™…æ„ä¹‰ï¼Œä½†å¯ä»¥ä½¿ç®¡ç†å‘˜æ˜ç¡®åœ°çŸ¥æ™“åˆ†åŒºç”¨é€”ï¼Œä¾¿äºç®¡ç†ã€‚

## "mkfs"å·¥å…·
### ç®€ä»‹
Linuxæä¾›äº†ä¸€ç³»åˆ—å·¥å…·ç”¨äºæ ¼å¼åŒ–ç£ç›˜åˆ†åŒºï¼Œå®ƒä»¬éƒ½ä»¥"mkfs."å¼€å¤´ï¼Œåç¼€ä¸ºå„è‡ªæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¾‹å¦‚"mkfs.ext4"ã€"mkfs.xfs"ã€"mkfs.btrfs"ã€"mkfs.fat"ç­‰ã€‚

éƒ¨åˆ†æ–‡ä»¶ç³»ç»Ÿéœ€è¦å®‰è£…é¢å¤–çš„è½¯ä»¶åŒ…ä»¥è·å¾—æ”¯æŒï¼Œä¾‹å¦‚NTFSéœ€è¦"ntfsprogs"ï¼›exFATéœ€è¦"exfatprogs"ï¼Œè½¯ä»¶åŒ…åç§°å¯èƒ½å› å‘è¡Œç‰ˆè€Œå¼‚ã€‚

### ä½¿ç”¨æ–¹æ³•
"mkfs"ç³»åˆ—å·¥å…·çš„è¯­æ³•ä¸ºï¼š `"mkfs.[æ–‡ä»¶ç³»ç»Ÿ] {é€‰é¡¹} [å­˜å‚¨è®¾å¤‡]"` ï¼Œå¸¸ç”¨é€‰é¡¹å‚è§ä¸‹æ–‡ï¼š

ğŸ”· `-c`

æ“ä½œä¹‹å‰æ£€æŸ¥ç£ç›˜åå—ã€‚

ğŸ”· `-b`

æŒ‡å®šå—æˆ–ç°‡çš„å¤§å°ã€‚

ğŸ”· `-L`

æŒ‡å®šåˆ†åŒºæ ‡ç­¾ã€‚

ç”±äºå„æ–‡ä»¶ç³»ç»Ÿæ‰€æ”¯æŒçš„ç‰¹æ€§ä¸åŒï¼Œæ­¤å¤„ä»…åˆ—å‡ºå…¬å…±é€‰é¡¹ï¼Œå…·ä½“ç”¨æ³•è¯·å‚è€ƒå¸®åŠ©æ–‡æ¡£ã€‚

### ç¤ºä¾‹
ğŸ”´ ç¤ºä¾‹ä¸€

å°†"sdb1"æ ¼å¼åŒ–ä¸ºXFSæ–‡ä»¶ç³»ç»Ÿï¼Œæ— è§†ç°æœ‰æ–‡ä»¶ç³»ç»Ÿ("-f")ã€‚

```text
[root@Fedora ~]# mkfs.xfs -f /dev/sdb1
meta-data=/dev/sdb1              isize=512    agcount=4, agsize=65535872 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=262143488, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=127999, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
```

> âš ï¸ è­¦å‘Š
>
> è°¨æ…æ“ä½œï¼å¼ºåˆ¶æ ¼å¼åŒ–å°†ä¼šæ¸…ç©ºä»»ä½•ç£ç›˜ä¸­çš„ç°æœ‰æ•°æ®ã€‚

ğŸŸ  ç¤ºä¾‹äºŒ

å°†"sdb1"æ ¼å¼åŒ–ä¸ºNTFSæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶è®¾ç½®ç°‡å¤§å°ä¸º8Kï¼Œè¿›è¡Œå¿«é€Ÿæ ¼å¼åŒ–(ä½¿ç”¨"-Q"é€‰é¡¹)ã€‚

```text
[root@Fedora ~]# mkfs.ntfs -Q -c 8192 /dev/sdb1 
Creating NTFS volume structures.
mkntfs completed successfully. Have a nice day.
```

## "fsck"å·¥å…·
### ç®€ä»‹
è®¡ç®—æœºå¼‚å¸¸æ–­ç”µæˆ–ç³»ç»Ÿå´©æºƒæ—¶ï¼Œå¯èƒ½ä¼šä½¿æ–‡ä»¶ç³»ç»Ÿå‘ç”Ÿé€»è¾‘é”™è¯¯ï¼Œå¯¼è‡´åˆ†åŒºæ— æ³•è¢«è¯»å†™ã€‚"fsck"å·¥å…·å¯ä»¥æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿå¹¶å°è¯•ä¿®å¤é€»è¾‘é”™è¯¯ï¼Œä¸¢å¼ƒå—æŸçš„æ•°æ®ï¼Œç¡®ä¿æœªå—æŸçš„æ•°æ®å¯è¢«æ­£å¸¸è¯»å–ã€‚

"fsck"å‘½ä»¤ç±»ä¼¼äº"mkfs"ï¼Œå…¶æ‹¥æœ‰ä¸€ç³»åˆ—å­å‘½ä»¤ï¼Œä¾‹å¦‚"fsck.ext4"ã€"fsck.fat"ç­‰ï¼Œè¿™äº›å‘½ä»¤ä¸ºç”¨æˆ·æä¾›ç»Ÿä¸€çš„åŠŸèƒ½å…¥å£ï¼Œéƒ¨åˆ†æ–‡ä»¶ç³»ç»Ÿå¯èƒ½éœ€è¦é¢å¤–çš„è½¯ä»¶åŒ…æ”¯æŒã€‚

### ä½¿ç”¨æ–¹æ³•
"fsck"ç³»åˆ—å·¥å…·çš„è¯­æ³•ä¸ºï¼š `fsck.[æ–‡ä»¶ç³»ç»Ÿ] {é€‰é¡¹} [å­˜å‚¨è®¾å¤‡]` ï¼Œå¸¸ç”¨é€‰é¡¹å‚è§ä¸‹æ–‡ï¼š

ğŸ”· `-a`

å‘ç°é”™è¯¯æ—¶å°è¯•è‡ªåŠ¨ä¿®å¤ã€‚

ğŸ”· `-r`

å‘ç°é”™è¯¯æ—¶è¯¢é—®ç”¨æˆ·æ˜¯å¦è¿›è¡Œä¿®å¤ã€‚

ğŸ”· `-s`

æŒ‡å®šå¤šä¸ªè®¾å¤‡ä½œä¸ºè¾“å…¥å‚æ•°æ—¶ï¼Œä¾æ¬¡è¿›è¡Œæ£€æŸ¥ã€‚

### ç¤ºä¾‹
ğŸ”´ ç¤ºä¾‹ä¸€

æ£€æŸ¥EXT4åˆ†åŒº"sdd1"å’Œ"sde1"ï¼Œå¹¶å°è¯•è‡ªåŠ¨ä¿®å¤ã€‚

```text
[root@Fedora ~]# fsck -as /dev/sdd1 /dev/sde1
fsck from util-linux 2.23.2
/dev/sdd1: clean, 11/65536000 files, 4166624/262143488 blocks
/dev/sde1: clean, 11/65536000 files, 4166624/262143488 blocks
```

ğŸŸ  ç¤ºä¾‹äºŒ

æ£€æŸ¥XFSåˆ†åŒº"sdb1"ã€‚

```text
# å°è¯•ä½¿ç”¨"fsck"å‘½ä»¤è¿›è¡Œæ£€æŸ¥
[root@Fedora ~]# fsck /dev/sdb1
fsck from util-linux 2.23.2
If you wish to check the consistency of an XFS filesystem or
repair a damaged filesystem, see xfs_repair(8).

# ç³»ç»Ÿæç¤ºéœ€è¦ä½¿ç”¨"xfs_repair"å‘½ä»¤
[root@Fedora ~]# xfs_repair /dev/sdb1
Phase 1 - find and verify superblock...
Phase 2 - using internal log
(...)
Phase 7 - verify and correct link counts...
done
```

"fsck"å‘½ä»¤å¯ä»¥æ£€æŸ¥FATç³»åˆ—ä¸EXTç³»åˆ—æ–‡ä»¶ç³»ç»Ÿå¹¶å°è¯•ä¿®å¤ï¼Œå¯¹äºå…¶å®ƒç£ç›˜æ ¼å¼ï¼ˆå¦‚XFSã€NTFSã€BtrFSç­‰ï¼‰ï¼Œåˆ™éœ€è¦ä½¿ç”¨ç›¸å…³è½¯ä»¶åŒ…æä¾›çš„å·¥å…·ã€‚
