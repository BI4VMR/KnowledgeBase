
# 条件


语法一：一个条件




if condition
then
      command1
      command2
      ...

fi


Shell没有像C语言的大括号{}来明确作用域，因此选用作用域首个单词的反向拼写作为结束符号



语法二：两个条件


if condition
then
      command1
      command2
      ...
else
       command
fi






语法三：多个条件


if condition
then
      command1
      command2
      ...
elifthen
       command
else
       command
fi


9.2 for循环

语法格式：

# [list] 是一个列表，类似list1 list2 list3 ... listN
for arg in [list];do #如果do和for在同一行，则注意中间加个分号
    command1
    command2
    ...
done

具体实例：

# 方式 1 
for i in {1..4};do # 类似python中使用in的方式判断
    echo "This is No $i"
done

# 方式 2
for((i=1;i<=5;i++));do # 类似C语言风格来实现
    echo "This is No $i"
done

9.3 while循环语句

在循环的开头判断条件是否满足，如果条件为True，则一直循环。

    while适合循环次数未知的情况。

语法格式：

while [ condition ];do
    command1
    command2
    ...
done

具体实例：计算两个数字之间的和（程序很简单，是本人Test所以加了一些说明）

echo "-------This program calculates the sum of all the numbers between two numbers-------"

echo "please inpput first number (need Must be less than the second number): "
read a

echo "Please input second number (Must be greater than the first number): "
read b

sum=0

while ((a <= b));do
    ((sum+=a))
    ((a++))
done
echo "the plus is : $sum"

9.4 until循环语句

在循环的顶部判断条件，如果condition为False，就进入循环，和while语句相反。

语法格式：

until condition;do # 如果condition为True，直接结束循环
    command1
    command2
    ...
done

实例：计算1～50的乘积

#程序使用C语言风格，如果使用shellcheck是会直接报错
set i=1
sum=0
until ((i>50));do
    ((sum+=i))
    ((i++))
done
echo "The puls is : $sum"

9.5 break和continue语句

直接影响循环行为的命令：break 和 continue。

    和C语言的方式一致，不做过多说明。

    break 直接跳出循环

    continue 只跳过本次循环，忽略本次循环剩余代码，直接进入下一次循环。

9.6 case结构语句

case结构语句类似C语言中的switch语句。个人使用场景：写多个dockerfile（如ubuntu16.04、ubuntu18.04、centos7.2等）则使用一个变量控制，保证会执行的命令。

语法格式：

case arg/expression in
    condition_1)
        command_1
    ;;
    condition_2)
        command_2
    ;;
    ......
    condition_N)
        command_N
    ;;
    *)
        command
esac

⚠️注意：

    每句测试行，都以右小括号)结尾.
    每个判断语句块都以一对分号;; 结尾。
    case块以 esac（case的反向拼写） 结尾。

具体实例：打印成绩评级

#已进行shellcheck检查
echo "Please input your Score : "
read -r score

case $score in #固定格式，判断数字，然后直接类似C语言中的goto语句
    [9][0-9]|100) # 十位 和个位的组合
        echo "The Level is A"
        ;; # 固定格式
    [8][0-9]|90)
        echo "The Level is B"
        ;;
    [67][0-9]|80)
        echo "The Level is C"
        ;;
    [0-5][0-9]|[0-9])
        echo "The Level is D, please pay attention it"
        ;;
    *) #固定格式
        echo "The input is False"
esac # 注意结尾不能少

9.7 select结构语句

select结构语句和case结构语句类似，是建立menu的一种工具。

    select是从ksh中引入。

语法格式：

select arg in [list];do
    command_1
    command_2
    ......
    break # 一定要使用break，否则会直接一直提示你选择内容，无法退出（只能通过ctrl+c方式进行）
done

提示用户输入选择的内容(比如放在变量列表中). 注意: select命令使用PS3提示符, 默认为 (#?), 可修改。

具体实例：

#已进行shellcheck检查
PS3="Please choose the OS you are using : "  #直接将提示字符串赋值给PS3变量，即可替代符号 #?

select os_type in "ubuntu1604" "Ubuntu1804" "Centos8" "OpenEuler";do
    echo "The OS you are using : $os_type"
    break
done
exit 0