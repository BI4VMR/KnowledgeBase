# 最小代码片段
我们新建一个文本文件，名称为 `TestFirst.java`，内容如下文代码块所示：

"TestFirst.java":

```java
// 定义一个“类”，名称为TestFirst。
public class TestFirst {

    // "main"方法，是程序的入口。
    public static void main(String[] args) {
        // 在控制台上显示文字
        System.out.println("Hello World!");
    }
}
```

这是一个Java应用程序的基本结构，“类”是Java代码的基本组织单位，因此方法与变量需要放置在类的内部。

`main()` 方法是程序的入口，其中的代码运行完毕即代表整个程序结束。如果 `main()` 方法正常运行完毕，JVM将会向系统发送进程状态码"0"；如果其在运行过程中发生错误，导致进程异常终止，JVM将会向系统发送进程状态码"1"。

Linux系统中的环境变量 `$?` 即代表前一个任务的返回值，我们在Shell中运行以上代码，并查看返回值：

```text
# 编译并运行示例程序
[root@Fedora ~]$ java FirstDemo.java
Hello World!

# 读取上一个进程的状态码
[root@Fedora ~]$ echo "$?"
0
```

除了正常顺序运行的逻辑外，我们还可以根据需要，在代码中的任意位置调用 `System.exit(int code)` 方法终止主进程，并配置自定义的状态码"code"。

为节约篇幅与缩进，后文的示例代码若无特殊说明，均省略类与 `main()` 方法定义，只展示关键内容。

# 注释
注释(Comment)是对代码的解释和说明，其目的是让人们能够更加轻松地理解代码。在编译过程中，注释语句会被编译器忽略并移除，最终生成的程序中不会包含任何注释语句。

Java中的注释有三种类型：

- 单行注释以 `//` 开头，行末自然结束，正如前文示例中的描述文本。
- 多行注释以 `/*` 开头，以 `*/` 结尾，中间的行都被视为注释文本。
- 文档注释以 `/**` 开头，以 `*/` 结尾，允许多行，通常用于描述类与方法的详细信息。

我们可以在文档注释中使用一些标记，以便通过工具生成详细的程序文档。

<div align="center">

|     标记     |           含义           |
| :----------: | :----------------------: |
|  `@author`   |           作者           |
|  `@version`  |           版本           |
|    `@see`    |         参考内容         |
|   `@param`   |     对方法参数的说明     |
|  `@return`   |    对方法返回值的说明    |
| `@exception` | 对可能抛出的异常进行说明 |
| `{@link N}`  |    链接至其它类或方法    |

</div>

文档注释中所有非"@"标记开头的行，都将作为描述信息，其中可以添加 `{@link N}` 链接至其它方法。

```java
/**
 * Name        : JavadocDemo
 * <p>
 * Description : Java文档注释示例。
 *
 * @author BI4VMR
 * @version 1.0
 */
public class JavadocDemo {

    /**
     * Name        : 计算两数之和
     * <p>
     * Description : 计算两数之和，功能类似于{@link java.math.BigDecimal#add(BigDecimal)}。
     *
     * @param a 运算数1
     * @param b 运算数2
     * @return 两个运算数的和。
     */
    public static int sum(int a, int b) {
        return a + b;
    }
}
```

在上述示例代码中，类注释说明了类名与类的用途，在生成的文档中所有注释文本将会忽略换行依次连接起来，此处我们使用 `<p>` 标记实现了换行；"@"标记开头的行将会保持换行符，无需添加换行标记。

我们可以使用JDK自带的 `javadoc` 命令生成程序文档， `-d <输出文件夹>` 选项指定了文档生成的目标位置，输入参数则指定了要生成的类文件。

```text
javadoc -d <输出文件夹> <需要生成文档的源码文件>
```

我们以上述示例代码为例，生成其对应的程序文档。

```text
[root@Fedora Study-Java]# javadoc -d ~/javadoc-test -encoding utf-8 -charset utf-8 ./M02-Base/src/main/java/net/bi4vmr/study/base/ch01/JavadocDemo.java
Loading source file ./M02-Base/src/main/java/net/bi4vmr/study/base/ch01/JavadocDemo.java...
Constructing Javadoc information...
Creating destination directory: "/root/javadoc-test/"
Standard Doclet version 11.0.16.1
Building index for all classes...
Generating /root/javadoc-test/allclasses.html...
Generating /root/javadoc-test/allclasses.html...
Generating /root/javadoc-test/index.html...
Generating /root/javadoc-test/help-doc.html...

# 此处省略部分输出内容...
```

JavaDoc生成的文档格式是HTML，我们使用浏览器打开 `index.html` 即可进行阅读，其中对方法的描述如下图所示：

<div align="center">

![文档注释样式](./Assets-程序结构/注释-文档注释样式.jpg)

</div>

JavaDoc工具默认使用操作系统的默认字符编码，如果与源码文件编码不符，就无法正常工作，我们可以通过额外的选项指定JavaDoc使用的编码，使其与源码文件一致。

```text
javadoc -encoding utf-8 -charset utf-8 -d <输出文件夹> <需要生成文档的源码文件>
```

# 关键字与标识符
编程语言中具有特殊含义的单词被称为关键字，编译器会识别特定的关键字并将语句翻译为对应的机器指令。标识符则是我们自定义的变量与函数名称，它们不能与现有关键字冲突。

Java中常用的关键字如下表所示：

<div align="center">

|   关键字   |  关键字   |    关键字    |  关键字   |    关键字    |  关键字  |
| :--------: | :-------: | :----------: | :-------: | :----------: | :------: |
| `abstract` | `boolean` |   `break`    |  `byte`   |    `case`    | `catch`  |
|   `char`   |  `class`  |  `continue`  | `default` |     `do`     | `double` |
|   `else`   | `extends` |   `false`    |  `final`  |  `finally`   | `float`  |
|   `for`    |   `if`    | `implements` | `import`  | `instanceof` |  `int`   |

</div>

Java中的关键字是区分大小写的，例如：我们可以使用"Void"作为标识符，因为它与关键字"void"并不相同。

Java中存在部分预留的关键字，这些关键字在当前版本中无实际意义，但在未来发布的版本中可能被作为正式关键字。

我们在为变量或方法起名时，除了不能与关键字冲突外，还需要遵循一些规则，以提高程序的可维护性：

- 标识符可以由字母、数字、下划线("_")、美元符("$")组成，不能包含"@"、"%"以及空格等特殊字符，并且不能以数字开头。
- 标识符严格区分大小写，例如"abc"和"ABC"是两个不同的标识符。
- 标识符不能是关键字，但允许包含关键字的字符。
- 标识符应当直观地反映出变量或方法的作用，最好做到见名知意。
- 标识符应当仅包含ASCII字符，不应出现中文、日文、韩文等字符；非ASCII字符在跨平台操作时可能会出现乱码等问题。

下文的表格展示了一些标识符示例：

<div align="center">

|    标识符     | 可用性 |                原因                |
| :-----------: | :----: | :--------------------------------: |
|   `123name`   |   ×    |           不能以数字开头           |
| `abc@163.com` |   ×    |          不能包含"@"字符           |
|    `void`     |   ×    |       不能与关键字"void"冲突       |
|    `Void`     |   √    |   首字母为大写，未与关键字冲突。   |
|   `myvoid`    |   √    | 包含关键字"void"，未与关键字冲突。 |

</div>

# 变量
## 简介
变量是存储在内存中的数据块，用于描述事物的属性，例如学生的姓名、年龄、性别等。我们通过以下三个元素描述一个变量：数据类型、变量名称以及变量的值。

变量名称用于唯一标识某个变量。我们给变量命名时，需要遵循标识符规则、尽量简短且能见名知意，例如：定义变量"studentName"用于保存“学生姓名”信息。

Java中的变量名由多个单词组成时，首个单词的首字母应当小写，后续单词的首字母大写，这种方式称为驼峰命名法，如"myAge"、"studentName"等。

声明变量的相关语法及示例详见下文代码块：

```java
// 声明变量并赋值
<数据类型> <变量名称> = <变量的值>;

// 声明变量但暂不进行赋值
<数据类型> <变量名称>;


// 示例：变量“年龄”
int age = 20;

// 示例：变量“姓名”
String name = "张三";
```

## 数据类型
Java是一种强类型语言，每个变量都有明确的类型，因此我们声明变量的同时还要指明它的类型。

Java中的数据类型分为基本数据类型和引用数据类型，基本数据类型变量直接存储数据的值，而引用数据类型变量存储的是保存数据值的内存地址。

常用的数据类型如下表所示：

<div align="center">

|   类型    |     说明     |      应用      |           示例           |
| :-------: | :----------: | :------------: | :----------------------: |
|  `byte`   |    字节型    |    存储整数    |     `byte state = 1`     |
|  `short`  |    短整型    |    存储整数    |     `short age = 21`     |
|   `int`   |     整型     |    存储整数    |    `int index = 100`     |
|  `long`   |    长整型    |    存储整数    | `long sec = 1555560167L` |
|  `float`  | 单精度浮点型 |    存储小数    | `float height = 175.2F`  |
| `double`  | 双精度浮点型 |    存储小数    |  `double price = 15.5`   |
| `boolean` |    布尔型    | 表示“真”或“假” |  `boolean flag = true`   |
|  `char`   |    字符型    |  存储单个字符  |    `char sex = '男'`     |
| `String`  |    字符串    |  存储多个字符  |  `String name = "User"`  |

</div>

🔷 "byte"类型

字节型，内存分配1字节，占用8个二进制位，取值范围： `[-128, 127]` 。

🔷 "short"类型

短整型，内存分配2字节，占用16个二进制位，取值范围： `[-32768, 32767]` 。

🔷 "int"类型

整型，这是整数的默认类型，内存分配4字节，占用32个二进制位，取值范围： `[-2147483648, 2147483647]` 。

🔷 "long"类型

长整型，内存分配8字节，占用64个二进制位，取值范围： `[-9223372036854775808, 9223372036854775807]` 。

声明长整型时，数值后需要添加一个标记"L"，以此与"int"类型作区分。

🔷 "float"类型

单精度浮点数，内存分配4字节，占用32个二进制位，最大有效小数位为7位。

声明单精度浮点数时，数值后需要添加一个标记"F"，以此与"double"类型作区分。

🔷 "double"类型

双精度浮点数，这是小数的默认类型，内存分配8字节，占用64个二进制位，最大有效小数位16位。

🔷 "char"类型

"char"类型表示字符，定义时使用单引号包围，只能存储一个字符，例如 `char x = 'A'` 。

"char"类型变量本质上存储了字符的Unicode码值，而不是字符本身，因此也可以用数字赋值，例如 `char x = 65` 等同于 `char x = 'A'` 。

🔷 "String"类型

String是一种常见的引用数据类型，定义时使用双引号包围，可以存储一个或多个字符组合，如 `String name = "tom"` 。在程序开发中，许多操作都要借助字符串来完成，例如处理系统中的用户名、密码、电子邮箱等。

String是一个Java类，因此首字母需要大写，其具有面向对象的特征，可以拥有方法，例如我们调用 `"name.length()"` 可以获取字符串的长度。

> 🚩 提示
>
> Java为了实现跨平台特性，预先规定了每种数值类型的范围，因此我们不必担心同一种类型在不同的硬件架构上超出最大取值范围。

> ⚠️ 警告
>
> 由于二进制存在量化失真，部分浮点数不能无损地转为二进制，因此计算过程中可能产生误差。
>
> 当我们给"double"型变量赋值"0.1234"，再使用该变量与"0.0234"相减，将会得到结果"0.09999999999999999"。
>
> 为了解决金融等领域的计算精度问题，Java提供了BigDecimal等工具，我们可以在对精度要求较高的场合使用此类工具，而不能使用"double"类型。

# 常量
常量可以被理解为一种特殊的变量，在程序运行过程中，它的值一旦被设定完成，就不允许再次改变了，适当使用常量可以提高代码的可维护性。

声明常量与变量的语法类似，在前面添加"final"关键字即可。

```java
// 声明常量并赋值
final <数据类型> <标识符> = <数值>;

// 示例
final double PI = 3.141592653;
```

常量名称一般全部字符都为大写，多个单词之间使用下划线("_")分隔。

对于部分常见的数值，我们可以通过常量名称得知其含义。例如前文的圆周率 `PI` ，如果算式中多次出现"3.1415"，可能导致阅读困难，并且在书写时也更容易出错。这种直接使用数值而不引用常量的行为被称为“魔法数字”，我们应当避免这种情况。

除了数字常量，我们也经常使用字符型常量，例如：为了表示用户的性别，我们可以定义一个常量 `SEX_MALE` ，赋值为"男"；在需要指定性别的地方直接调用常量，这样就避免了输入不规范而导致程序出错的情况。
