# 算术运算符
## 简介
算术运算符用于进行各种数学计算，常见的数学运算符如下文表格所示：

<div align="center">

| 运算符 | 名称  |
| :----: | :---: |
|  `+`   | 加法  |
|  `-`   | 减法  |
|  `*`   | 乘法  |
|  `/`   | 除法  |
|  `%`   | 取余  |
|  `++`  | 自增  |
|  `--`  | 自减  |

</div>

## 四则运算
以下示例展示了四则运算符的使用方法：

🔴 示例一

在本示例中，我们使用算术运算符进行基本的四则运算。

"TestOperator.java":

```java
int a = 5 + 12;
int b = 25 - 10;
int c = 3 * 8;
int d = 24 / 7;
int e = 24 % 7;
double f = 24.0 / 7;

System.out.println("5 + 12 = " + a);
System.out.println("25 - 10 = " + b);
System.out.println("3 * 8 = " + c);
System.out.println("24 / 7 = " + d);
System.out.println("24 % 7 = " + e);
System.out.println("24.0 % 7 = " + f);
```

此时运行示例程序，并查看控制台输出信息：

```text
5 + 12 = 17
25 - 10 = 15
3 * 8 = 24
24 / 7 = 3
24 % 7 = 3
24.0 % 7 = 3.4285714285714284
```

对于整数除法，Java表达式的结果只包含整数部分，小数部分将被舍弃。若要进行小数除法计算，我们需要确保参与计算的操作数中至少有一个为浮点数。

## 自增与自减运算
自增运算符只能操作单个数值型变量，效果是使变量的整数值增加1，例如 `i++` 等效于 `i = i + 1` ，是一种简洁记法。自减运算符的效果与自增相反。

🟠 示例二

在本示例中，我们使用自增与自减运算符操作变量。

自增与自减符号既可以出现在操作数的左边，也可以出现在右边，但这两种情况的效果是不同的。此处以自增运算符为例进行演示：

"TestOperator.java":

```java
int a = 5;
int b = 5;

System.out.println("自增符号在前：" + (++a));
System.out.println("自增符号在后：" + (b++));
System.out.println("a = " + a + "; b = " + b);
```

此时运行示例程序，并查看控制台输出信息：

```text
自增符号在前：6
自增符号在后：5
a = 6; b = 6
```

根据上述输出内容可知：

变量 `a` 与 `b` 执行自增后，最终数值都从5变成了6。但 `++a` 先对变量a进行自增，再进行其它操作（此处为显示文本）；而 `b++` 先执行其它操作，最后再对变量b进行自增。

# 赋值运算符
赋值运算符的外观与数学中的等号相同，但它们的含义是不同的，赋值运算符的作用是将右侧表达式的结果赋给“左值”。左值是指位于赋值运算符左侧的、可被赋值的表达式，最常见的左值就是变量。

除了普通的赋值运算符，Java还提供了一些组合赋值符号，用于简化操作，常用的赋值运算符可参考下文表格：

<div align="center">

| 运算符 |  名称  |
| :----: | :----: |
|  `=`   |  赋值  |
|  `+=`  | 加等于 |
|  `-=`  | 减等于 |
|  `*=`  | 乘等于 |
|  `/=`  | 除等于 |
|  `%=`  | 模等于 |

</div>

下文示例展示了赋值运算符的使用方法。

🟡 示例三

在本示例中，我们使用赋值运算符操作变量。

"TestOperator.java":

```java
int a = 5;
int b = a;

// 使用普通表达式
a = a + 2;
System.out.println("a:" + a);

// 使用"加等于"符号
b += 2;
System.out.println("b:" + b);
```

此时运行示例程序，并查看控制台输出信息：

```text
a:7
b:7
```

根据上述输出内容可知：

变量 `a` 和 `b` 的初始值都为5，我们将 `a` 的值读出，加上2之后再赋值给 `a` ，最后变量 `a` 的值为7，此操作可以用“加等于”符号简化为 `b += 2` 。

# 比较运算符
比较运算符用于判断两个数值型变量值的相对大小，结果是一个布尔值。

常用的比较运算符可参见下文表格：

<div align="center">

| 运算符 |   名称   |      示例      | 结果  |
| :----: | :------: | :------------: | :---: |
|  `>`   |   大于   | `a=5;b=1;a>b`  | true  |
|  `<`   |   小于   | `a=5;b=1;a<b`  | false |
|  `>=`  | 大于等于 | `a=1;b=3;a>=b` | false |
|  `<=`  | 小于等于 | `a=1;b=3;a<=b` | true  |
|  `==`  |   等于   | `a=5;b=3;a==b` | false |
|  `!=`  |  不等于  | `a=5;b=5;a!=b` | false |

</div>

">"、"<"、">="、"<="两侧的操作数必须是基本数据类型，"=="、"!="两侧的操作数既可以是基本数据类型，也可以是引用数据类型，如果操作对象是引用数据类型，则比较的是二者的内存地址。

🟢 示例四

在本示例中，我们使用比较运算符操作变量。

"TestOperator.java":

```java
int a = 5;
int b = 1;

System.out.println("a>b: " + (a > b));
System.out.println("a<b: " + (a < b));

String s1 = "Test";
String s2 = "Test";
String s3 = new String("Test");
System.out.println("s1内容是否与s2相同：" + (s1 == s2));
System.out.println("s1内容是否与s3相同：" + (s1 == s3));
```

此时运行示例程序，并查看控制台输出信息：

```text
a>b: true
a<b: false
s1内容是否与s2相同：true
s1内容是否与s3相同：false
```

根据上述输出内容可知：

字符串 `s1` 、 `s2` 、 `s3` 的内容都是"Test"，但 `s1` 与 `s3` 的比较结果为"false"，这是因为它们虽然具有相同的内容，但内存地址并不相同。由此可见，我们不能用"=="符号比较字符串内容是否相同，具体原理详见相关章节： [🧭 字符串](../04_实用工具/02_字符处理/01_字符串.md) 。

# 逻辑运算符
逻辑运算符主要用于对布尔值进行逻辑运算，结果也是一个布尔值。

常用的逻辑运算符可参见下文表格：

<div align="center">

| 运算符 |   名称   |            运算规则            |
| :----: | :------: | :----------------------------: |
|  `&&`  |  逻辑与  | 全部为真，结果为真，否则为假。 |
|  `&`   |  逻辑与  | 全部为真，结果为真，否则为假。 |
| `\|\|` |  逻辑或  | 全部为假，结果为假，否则为真。 |
|  `\|`  |  逻辑或  | 全部为假，结果为假，否则为真。 |
|  `!`   |  逻辑非  |             取反。             |
|  `^`   | 逻辑异或 |      相同为假，不同为真。      |

</div>

运算符 `&` 和 `|` 按照正常的计算顺序，先计算符号两侧表达式的值，然后再进行逻辑运算。

运算符 `&&` 和 `||` 按照短路方式计算，例如表达式 `(1 > 2) && (1 < 3)` ，左边 `1 > 2` 结果为"false"，此时系统认为已经没有必要再计算右侧的 `1 < 3` ，直接返回"false"。同理，在表达式 `(1 > 2) || (1 < 3)` 中，如果确定左边的结果为"true"，将会直接返回"true"，系统不会再执行右侧的表达式。

对于纯粹的取值与判断场景，我们可以使用短路运算提高效率；对于右侧表达式包含赋值操作的场景，则需要小心使用短路运算，因为表达式可能不会被执行。

🔵 示例五

在本示例中，我们比较普通运算与短路运算的区别。

我们定义变量 `a` ，初始值为5，我们希望"a"执行逻辑判断后数值+1。

"TestOperator.java":

```java
int a = 5;

boolean b1 = false && (a++) == 6;
System.out.println("a = " + a);

boolean b2 = false & (a++) == 6;
System.out.println("a = " + a);
```

此时运行示例程序，并查看控制台输出信息：

```text
a = 5
a = 6
```

根据上述输出内容可知：

与运算左侧表达式始终为"false"，因此短路运算符跳过了右侧表达式，导致变量"a"没有自增，与预期不符。此时我们只能使用普通运算符，确保右侧的赋值操作顺利执行，不受左侧运算结果的影响。

# 位运算符
逻辑运算符主要用于对二进制位进行逻辑运算，结果是一个布尔值。

位运算符用于对数值型变量进行按位二进制运算，包括：“与”、“或”、“非”、“异或”、“左移”和“右移”，常用的位运算符可参见下表：

<div align="center">

| 运算符 |   名称   |                  运算规则                   |
| :----: | :------: | :-----------------------------------------: |
|  `&`   |  逻辑与  |              全1得1，否则为0。              |
|  `\|`  |  逻辑或  |              全0得0，否则为1。              |
|  `～`  |  逻辑非  |                    取反                     |
|  `^`   | 异或运算 |             相同为0，不同为1。              |
|  `<<`  |   左移   |       将二进制左移指定位数，低位补0。       |
|  `>>`  |   右移   | 将二进制右移指定位数，高位补0，符号位不变。 |
| `>>>`  | 逻辑异或 | 将二进制右移指定位数，高位补0，忽略符号位。 |

</div>

🟣 示例六

在本示例中，我们进行一些位运算。

"TestOperator.java":

```java
int a = 0x25;		// 25H	-> 0010 0101B
int b = 0xCE;		// CEH	-> 1100 1110B
int m = a & b;	    // 4D	-> 0000 0100B
int n = a | b;	    // 239D	-> 1110 1111B
int o = ~a;		    // -38D	-> 1101 1010B
int p = a ^ b;	    // 235D	-> 1110 1011B
int x = a << 2;	    // 148D	-> 1001 0100B
int y = a >> 2;	    // 9D	-> 0000 1001B

System.out.println("a    = " + a);
System.out.println("b    = " + b);
System.out.println("a&b  = " + m);
System.out.println("a|b  = " + n);
System.out.println("~a   = " + o);
System.out.println("a^b  = " + p);
System.out.println("a<<2 = " + x);
System.out.println("a>>2 = " + y);
```

运行程序并查看控制台输出：

```text
a    = 37
b    = 206
a&b  = 4
a|b  = 239
~a   = -38
a^b  = 235
a<<2 = 148
a>>2 = 9
```

按位取反之后的结果是补码，显示的结果是原码。

# 条件运算符
条件运算符也被称为“三元运算符”，是一种简化的判断与赋值语法，其语法如下文代码块所示：

```text
<变量> = <逻辑表达式> ? <表达式1> : <表达式2>
```

如果逻辑表达式的值为"true"，则将表达式1的值赋给变量，否则将表达式2的值赋给变量。

下文示例代码展示了条件运算符的使用方法。

🟤 示例七

我们定义两个变量 `a` 与 `b` ，如果 `a` 大于 `b` 则fanhui
以下代码展示了条件运算符的基本应用：

"TestOperator.java":

```java
int a = 1;
int b = 2;

int c = (a > b) ? (a * 100) : (b * 100);
System.out.println("c = " + c);
```

运行程序并查看控制台输出：

```text
c = 200
```

上述代码中，变量"a"的值小于变量"b"的值，因此表达式结果为"false"，执行表达式 `b * 100` 并作为最终结果返回，最后变量"c"的值为200。

上述代码也可以使用以下形式书写：

```java
 int a = 1;
 int b = 2;
 int c;

 if (a >= b) {
     c = a * 100;
 } else {
     c = b * 100;
 }
 System.out.println("c = " + c);
```

关于逻辑判断结构"if"的知识将在下一章“流程控制”中详细介绍。
