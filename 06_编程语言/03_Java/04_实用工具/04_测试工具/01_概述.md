# 单元测试
单元测试是软件开发过程中的一种测试方法，旨在验证软件中最小可测试单元（通常是方法或接口）的正确性。例如：我们编写了一个“计算A与B两数之商”的方法，同时也可以编写一些简单的测试用例，包括：“A=10, B=5时返回值应为2”、“A=100, B=0时返回值应为空且程序不会崩溃”等；后续若有开发者修改了此方法，且测试用例全部通过，表明并未影响到既有逻辑，反之，则表明逻辑存在冲突，需要进一步检视。
单元测试使开发者能够确保代码按照预期工作，并在修改代码后尽可能快速地回归验证，从源头降低Bug出现的概率。单元测试也可以作为持续集成和持续交付(CI/CD)流程的一部分，帮助开发者提高代码质量与可维护性。

单元测试框架提供了一系列标准化接口，能够与IDE、Maven、Gradle、Jenkins等组件联动，实现测试结果反馈、生成测试报告、覆盖率检测等功能。

Java中常见的框架包括JUnit。

依赖隔离：可以继承依赖组件重写方法，但具有局限性，通常采用Mock工具。

# Mock

Mock 的核心概念

    作用：
    用一个“假对象”替代真实的依赖项，模拟其行为（如返回值、异常等），避免测试受外部因素干扰。

    典型场景：

        数据库/网络请求（如模拟 UserRepository 返回测试数据，而非连接真实数据库）。

        外部 API 调用（如支付接口、短信服务）。

        复杂对象（如模拟 HttpServletRequest）。


2）mock对象：在调试期间用来作为真实对象的替代品；

3）mock测试：在测试过程中，对那些不容易构建的对象用一个虚拟对象来代替测试的方法就叫mock测试；

4）stub：打桩，就是为mock对象的方法指定返回值（可抛出异常）；

5）verify：行为验证，验证指定方法调用情况（是否被调用，调用次数等）；



何时使用 Mock？

    单元测试：隔离被测类，快速验证逻辑。

    依赖不可用：如第三方服务未开发完成或不可靠。

    提高测试速度：避免启动数据库、网络请求等耗时操作。
