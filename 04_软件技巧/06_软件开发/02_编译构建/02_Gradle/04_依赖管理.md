# ä»“åº“é…ç½®
## ç®€ä»‹
Gradleèƒ½å¤Ÿåœ¨Mavenä¸Eclipse Ivyä»“åº“ä¸­æŸ¥æ‰¾å¹¶ä¸‹è½½å·¥ç¨‹æ‰€ä¾èµ–çš„å¤–éƒ¨ç»„ä»¶ï¼Œå› æ­¤æˆ‘ä»¬åœ¨é…ç½®æ¨¡å—çš„ä¾èµ–ç»„ä»¶ä¹‹å‰ï¼Œéœ€è¦å…ˆé…ç½®ä¾èµ–ä»“åº“ã€‚

## Gradle 6åŠæ›´ä½ç‰ˆæœ¬
åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„ `settings.gradle` é…ç½®æ–‡ä»¶ä¸­ï¼Œ `buildscript {}` å°èŠ‚ç”¨äºé…ç½®Gradleæ’ä»¶çš„ä»“åº“ï¼› `allprojects {}` å°èŠ‚ç”¨äºé…ç½®æ‰€æœ‰å­æ¨¡å—å…±ç”¨çš„ä»“åº“ã€‚

"settings.gradle":

```groovy
// æ„å»ºå·¥å…·çš„ä¾èµ–é…ç½®
buildscript {
    // å£°æ˜Gradleæ’ä»¶ä»“åº“
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }

    // å£°æ˜æ’ä»¶ä¾èµ–
    dependencies {
        // Androidæ”¯æŒæ’ä»¶
        classpath 'com.android.tools.build:gradle:4.0.0'
        // Kotlinæ”¯æŒæ’ä»¶
        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30'
    }
}

// æ‰€æœ‰é¡¹ç›®çš„ä¾èµ–é…ç½®
allprojects {
    // å£°æ˜Mavenç»„ä»¶ä»“åº“
    repositories {
        google()
        mavenCentral()
    }

    // å£°æ˜ç»„ä»¶ä¾èµ–
    dependencies {
        // é€šå¸¸ä¸åœ¨æ­¤å¤„é…ç½®ä¾èµ–é¡¹
    }
}
```

`allprojects {}` å°èŠ‚ä¸­å£°æ˜çš„ä»“åº“ä¸ä¾èµ–å¯¹æ‰€æœ‰å­æ¨¡å—å¯ç”¨ï¼Œæˆ‘ä»¬é€šå¸¸åªåœ¨æ­¤å£°æ˜ä»“åº“ï¼Œè€Œä¸å£°æ˜ä¾èµ–ç»„ä»¶ï¼Œå…·ä½“çš„ä¾èµ–ç»„ä»¶ç”±å„ä¸ªå­æ¨¡å—è‡ªè¡Œå£°æ˜ã€‚

å­æ¨¡å—ä¸­çš„ `build.gradle` é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥æ‹¥æœ‰ `repositories {}` å’Œ `dependencies {}` å°èŠ‚ï¼Œä»…å¯¹å½“å‰æ¨¡å—ç”Ÿæ•ˆï¼›æˆ‘ä»¬é€šå¸¸åœ¨å­æ¨¡å—ä¸­åªä½¿ç”¨ `dependencies {}` å°èŠ‚å£°æ˜ä¾èµ–é¡¹ã€‚

## Gradle 7åŠæ›´é«˜ç‰ˆæœ¬
åœ¨Gradle 7ä»¥åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œä¾èµ–ç®¡ç†ç›¸å…³çš„é…ç½®é¡¹å‘ç”Ÿäº†å˜åŒ–ï¼Œ `buildscript {}` å°èŠ‚è¢«æ›¿æ¢ä¸º `pluginManagement {}` ï¼› `allprojects {}` å°èŠ‚è¢«æ›¿æ¢ä¸º `dependencyResolutionManagement {}` ã€‚

"settings.gradle":

```groovy
// æ„å»ºå·¥å…·çš„ä¾èµ–é…ç½®
pluginManagement {
    // å£°æ˜Gradleæ’ä»¶ä»“åº“
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

// æ‰€æœ‰æ¨¡å—çš„ä¾èµ–é…ç½®
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
// æ„å»ºå·¥å…·çš„ä¾èµ–é…ç½®
pluginManagement {
    // å£°æ˜Gradleæ’ä»¶ä»“åº“
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

// æ‰€æœ‰æ¨¡å—çš„ä¾èµ–é…ç½®
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}
```

æ­¤æ—¶ `pluginManagement {}` å°èŠ‚ä¸­ä»…åŒ…å«æ’ä»¶ä»“åº“çš„é…ç½®ï¼Œæ’ä»¶ä¾èµ–å£°æ˜åˆ™è¢«ç§»åŠ¨åˆ° `build.gradle` é…ç½®æ–‡ä»¶çš„ `plugins {}` å°èŠ‚ä¸­ã€‚

"build.gradle":

```groovy
// Gradleæ’ä»¶ç‰ˆæœ¬å£°æ˜
plugins {
    id 'com.android.application' version '7.1.2' apply false
    id 'com.android.library' version '7.1.2' apply false
    id 'org.jetbrains.kotlin.android' version '1.6.21' apply false
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
plugins {
    id("com.android.application").version("7.1.2").apply(false)
    id("com.android.library").version("7.1.2").apply(false)
    id("org.jetbrains.kotlin.android").version("1.6.21").apply(false)
}
```

åœ¨å…¨å±€ `settings.gradle` é…ç½®æ–‡ä»¶çš„ `dependencyResolutionManagement {}` å°èŠ‚ä¸­ï¼Œ `repositoriesMode.set()` æ–¹æ³•ç”¨äºè®¾ç½®ä»“åº“ç­–ç•¥ï¼Œå„ä¸ªå–å€¼çš„å«ä¹‰å¦‚ä¸‹æ–‡åˆ—è¡¨æ‰€ç¤ºï¼š

- `RepositoriesMode.PREFER_PROJECT` : å¦‚æœå­æ¨¡å—å£°æ˜äº†ä»“åº“ï¼Œåˆ™ä»¥å­æ¨¡å—ä¸ºå‡†ï¼Œä¸å†ä½¿ç”¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­å£°æ˜çš„ä»“åº“ã€‚è¿™ä¹Ÿæ˜¯é»˜è®¤çš„ç­–ç•¥ã€‚
- `RepositoriesMode.PREFER_SETTINGS` : åªä½¿ç”¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­å£°æ˜çš„ä»“åº“ï¼Œå¿½ç•¥å­æ¨¡å—å£°æ˜çš„ä»»ä½•ä»“åº“ï¼ˆæ¥æºåŒ…æ‹¬é…ç½®æ–‡ä»¶ä¸æ’ä»¶ï¼‰ã€‚
- `RepositoriesMode.FAIL_ON_PROJECT_REPOS` : åªä½¿ç”¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­å£°æ˜çš„ä»“åº“ï¼Œç¦æ­¢å­æ¨¡å—å£°æ˜ä»“åº“ã€‚å¦‚æœæ£€æµ‹åˆ°å­æ¨¡å—å£°æ˜äº†ä»“åº“ï¼Œåˆ™æŠ¥é”™å¹¶ç»ˆæ­¢ä»»åŠ¡ã€‚

## å£°æ˜ä»“åº“
ä¸‹æ–‡å†…å®¹ä»‹ç»äº†å¸¸ç”¨çš„å…¬å¼€ä»“åº“ï¼Œä»¥åŠè‡ªå®šä¹‰ä»“åº“çš„é…ç½®æ–¹æ³•ã€‚

ğŸ”¶ Mavenä¸­å¿ƒä»“åº“

Mavenä¸­å¿ƒä»“åº“ç”±SonaTypeç»´æŠ¤ï¼Œæä¾›Javaä¸Androidçš„ç›¸å…³ç»„ä»¶ï¼Œå®ƒçš„å®˜æ–¹ç½‘é¡µä¸ºï¼š [ğŸ”— Mavenä¸­å¿ƒä»“åº“](https://central.sonatype.com/) ï¼Œä»“åº“åœ°å€ä¸ºï¼š `https://repo1.maven.org/maven2` ã€‚

è¯¥ä»“åº“æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜å…¶åç§°ï¼Œæ— éœ€æŒ‡æ˜URLã€‚

```groovy
repositories {
    mavenCentral()
}
```

Mavenä¸­å¿ƒä»“åº“æ˜¯Javaä¸Androidå¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä»“åº“ï¼Œé€šå¸¸æ¯ä¸ªé¡¹ç›®éƒ½ä¼šé…ç½®ã€‚

ğŸ”¶ Googleå®˜æ–¹ä»“åº“

Googleå®˜æ–¹Mavenä»“åº“ç”±Googleç»´æŠ¤ï¼Œæä¾›Androidçš„ç›¸å…³ç»„ä»¶ï¼Œå®ƒçš„å®˜æ–¹ç½‘é¡µä¸ºï¼š [ğŸ”— Googleå®˜æ–¹ä»“åº“](https://maven.google.com/web/index.html) ï¼Œä»“åº“åœ°å€ä¸ºï¼š `https://dl.google.com/dl/android/maven2` ã€‚

è¯¥ä»“åº“æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜å…¶åç§°ï¼Œæ— éœ€æŒ‡æ˜URLã€‚

```groovy
repositories {
    google()
}
```

Googleå®˜æ–¹Mavenä»“åº“å¯¹äºAndroidå·¥ç¨‹æ˜¯å¿…é€‰çš„ï¼›å¯¹äºéAndroidå·¥ç¨‹é€šå¸¸æ— éœ€é…ç½®ã€‚

ğŸ”¶ JCenterä»“åº“

JCenterä»“åº“ç”±Bintrayå…¬å¸ç»´æŠ¤ï¼Œæä¾›Javaä¸Androidçš„ç›¸å…³ç»„ä»¶ã€‚

è¯¥ä»“åº“æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜å…¶åç§°ï¼Œæ— éœ€æŒ‡æ˜URLã€‚

```groovy
repositories {
    jcenter()
}
```

JCenterä»“åº“ç›®å‰å·²ç»åœæ­¢ç»´æŠ¤å¹¶æ¸…ç©ºæ•°æ®ï¼Œå¦‚æœæ—©æœŸåˆ›å»ºçš„å·¥ç¨‹å£°æ˜äº†è¯¥ä»“åº“ï¼Œæˆ‘ä»¬å¿…é¡»å°†å…¶æ›¿æ¢ä¸ºMavenä¸­å¿ƒä»“åº“ã€‚

ğŸ”¶ JitPackä»“åº“

JitPackæ˜¯ä¸€ä¸ªMavenä»“åº“ï¼Œæä¾›Javaä¸Androidçš„ç›¸å…³ç»„ä»¶ï¼Œå®ƒçš„å®˜æ–¹ç½‘é¡µä¸ºï¼š [ğŸ”— JitPack](https://www.jitpack.io/)  ã€‚

JitPackä¸æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬åœ¨é…ç½®å®ƒæ—¶éœ€è¦æŒ‡æ˜å®ƒçš„URLã€‚

```groovy
repositories {
    maven { url = 'https://www.jitpack.io' }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
repositories {
    maven { setUrl("https://www.jitpack.io") }
}
```

ğŸ”¶ Gradleç¤¾åŒºæ’ä»¶ä»“åº“

Gradleç¤¾åŒºæ’ä»¶ä»“åº“æä¾›äº†ç¬¬ä¸‰æ–¹å¼€å‘çš„Gradleæ’ä»¶ï¼Œä»“åº“åœ°å€ä¸ºï¼š `https://plugins.gradle.org/m2/` ã€‚

è¯¥ä»“åº“æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜å…¶åç§°ï¼Œæ— éœ€æŒ‡æ˜URLã€‚

```groovy
repositories {
    gradlePluginPortal()
}
```

ğŸ”¶ Mavenæœ¬åœ°ä»“åº“

Mavenæœ¬åœ°ä»“åº“çš„é»˜è®¤è·¯å¾„ä¸ºï¼š `<ç”¨æˆ·ä¸»ç›®å½•>/.m2/repository` ï¼Œé€šå¸¸ç”¨äºè°ƒè¯•ã€‚

è¯¥ä»“åº“æ˜¯Gradleçš„å†…ç½®ä»“åº“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜å…¶åç§°ï¼Œæ— éœ€æŒ‡æ˜URLã€‚

```groovy
repositories {
    mavenLocal()
}
```

ğŸ”¶ è‡ªå®šä¹‰ä»“åº“

è‡ªå®šä¹‰Mavenä»“åº“æ˜¯ä¸ªäººæˆ–ç»„ç»‡è‡ªå»ºçš„ä»“åº“ï¼Œé€šå¸¸ä¸å¯¹å¤–éƒ¨å¼€æ”¾ï¼Œéœ€è¦é€šè¿‡è®¤è¯åæ‰èƒ½ä½¿ç”¨ã€‚

é…ç½®è‡ªå®šä¹‰Mavenä»“åº“æ—¶ï¼Œ `url` è¡¨ç¤ºä»“åº“åœ°å€ï¼› `credentials {}` å°èŠ‚è¡¨ç¤ºè®¤è¯ä¿¡æ¯ï¼Œå¦‚æœè¯¥ä»“åº“æ— éœ€è®¤è¯ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ `credentials {}` å°èŠ‚ã€‚

```groovy
repositories {
    maven {
        // æŒ‡å®šä»“åº“åœ°å€
        url = 'https://repo.example.net/repository/private/'
        // è®¤è¯ä¿¡æ¯
        credentials {
            // ç”¨æˆ·åç§°
            username '<ç”¨æˆ·åç§°>'
            // è®¤è¯å£ä»¤
            password '<è®¤è¯å£ä»¤>'
        }
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
repositories {
    maven {
        // æŒ‡å®šä»“åº“åœ°å€
        setUrl("https://repo.example.net/repository/private/")
        // è®¤è¯ä¿¡æ¯
        credentials {
            // ç”¨æˆ·åç§°
            username = "<ç”¨æˆ·åç§°>"
            // è®¤è¯å£ä»¤
            password = "<è®¤è¯å£ä»¤>"
        }
    }
}
```

<br />

Gradle 7åŠæ›´é«˜ç‰ˆæœ¬é»˜è®¤ç¦æ­¢ä½¿ç”¨æœªåŠ å¯†çš„ä¼ è¾“åè®®ï¼Œä¾‹å¦‚ï¼šHTTPï¼›å¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨è¿™ç§ä»“åº“ï¼Œåº”å½“å°† `allowInsecureProtocol` å±æ€§ç½®ä¸º"true"ã€‚

```groovy
repositories {
    maven {
        // å…è®¸ä½¿ç”¨éåŠ å¯†çš„ä¼ è¾“åè®®
        allowInsecureProtocol = true
        // æŒ‡å®šä»“åº“åœ°å€
        url = 'http://repo.example.net/repository/private/'
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
repositories {
    maven {
        // å…è®¸ä½¿ç”¨éåŠ å¯†çš„ä¼ è¾“åè®®
        isAllowInsecureProtocol = true
        // æŒ‡å®šä»“åº“åœ°å€
        setUrl("https://repo.example.net/repository/private/")
    }
}
```

åœ¨åç»­çš„Gradleç‰ˆæœ¬ä¸­ï¼Œè¯¥å±æ€§ä¸èƒ½ç›´æ¥è¢«èµ‹å€¼ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨ `setAllowInsecureProtocol(true)` æ–¹æ³•è¿›è¡Œè®¾ç½®ã€‚

## é•œåƒä»“åº“
ä¸‹æ–‡ä»£ç å—åˆ—å‡ºäº†ä¸€äº›ä¸­å›½åœ°åŒºå¸¸ç”¨çš„Mavenä»“åº“é•œåƒåœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åœ¨å·¥ç¨‹çš„å…¨å±€é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å®ƒä»¬ï¼Œä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚

"settings.gradle":

```groovy
repositories {
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“+JCenter
    maven { url = 'https://maven.aliyun.com/repository/public/' }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“
    maven { url = 'https://maven.aliyun.com/repository/central/' }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šGoogle
    maven { url = 'https://maven.aliyun.com/repository/google/' }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šJCenter
    maven { url = 'https://maven.aliyun.com/repository/jcenter/' }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šSpring
    maven { url = 'https://maven.aliyun.com/repository/spring/' }

    // è…¾è®¯äº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“+Spring+Google+JCenter
    maven { url = 'https://mirrors.cloud.tencent.com/nexus/repository/maven-public/' }

    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šGradleç¤¾åŒºæ’ä»¶
    maven { url = 'https://maven.aliyun.com/repository/gradle-plugin/' }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šSpringæ’ä»¶
    maven { url = 'https://maven.aliyun.com/repository/spring-plugin/' }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
repositories {
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“+JCenter
    maven { setUrl("https://maven.aliyun.com/repository/public/") }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“
    maven { setUrl("https://maven.aliyun.com/repository/central/") }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šGoogle
    maven { setUrl("https://maven.aliyun.com/repository/google/") }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šJCenter
    maven { setUrl("https://maven.aliyun.com/repository/jcenter/") }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šSpring
    maven { setUrl("https://maven.aliyun.com/repository/spring/") }

    // è…¾è®¯äº‘ä»“åº“é•œåƒï¼šMavenä¸­å¿ƒä»“åº“+Spring+Google+JCenter
    maven { setUrl("https://mirrors.cloud.tencent.com/nexus/repository/maven-public/") }

    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šGradleç¤¾åŒºæ’ä»¶
    maven { setUrl("https://maven.aliyun.com/repository/gradle-plugin/") }
    // é˜¿é‡Œäº‘ä»“åº“é•œåƒï¼šSpringæ’ä»¶
    maven { setUrl("https://maven.aliyun.com/repository/spring-plugin/") }
}
```

## æœç´¢é¡ºåº
å½“GradleæŸ¥è¯¢æŸä¸ªç»„ä»¶æ—¶ï¼Œå°†ä¼šæŒ‰ç…§ä»“åº“åˆ—è¡¨çš„é¡ºåºè¿›è¡Œæ£€ç´¢ï¼Œè‹¥åœ¨æŸä¸ªä»“åº“ä¸­æŸ¥è¯¢åˆ°è¯¥ç»„ä»¶ï¼Œåˆ™ä¸‹è½½æ–‡ä»¶å¹¶åœæ­¢æŸ¥æ‰¾ï¼›è‹¥åœ¨æŸä¸ªä»“åº“ä¸­æ²¡æœ‰æŸ¥è¯¢åˆ°ç»„ä»¶ï¼Œåˆ™åœ¨åä¸€ä¸ªä»“åº“ä¸­ç»§ç»­æŸ¥è¯¢ï¼›å¦‚æœæ‰€æœ‰ä»“åº“ä¸­éƒ½æ²¡æœ‰è¯¥ç»„ä»¶ï¼Œåˆ™å®£å‘Šä¸‹è½½å¤±è´¥ã€‚

å½“Gradleåœ¨æŸä¸ªä»“åº“ä¸­æ‰¾åˆ°ç›®æ ‡ç»„ä»¶æ—¶ï¼Œä¹Ÿä¼šä¼˜å…ˆåœ¨å½“å‰ä»“åº“ä¸­æŸ¥è¯¢å®ƒæ‰€ä¾èµ–çš„å…¶ä»–ç»„ä»¶ï¼›è‹¥æœªæŸ¥è¯¢åˆ°ä¾èµ–ç»„ä»¶ï¼Œåˆ™è·³è½¬è‡³ä»“åº“åˆ—è¡¨é¦–é¡¹ï¼ŒæŒ‰ç…§å‰æ–‡æµç¨‹ç»§ç»­æŸ¥è¯¢ã€‚

# å£°æ˜ä¾èµ–
## è¿œç¨‹ä¾èµ–
å¯¹äºJavaæˆ–Kotlinå·¥ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Gradleä¸­å¼•ç”¨Mavenç»„ä»¶ï¼Œå¹¶è°ƒç”¨å…¶ä¸­çš„ç±»æˆ–æ–¹æ³•ã€‚

ğŸ”´ ç¤ºä¾‹ä¸€ï¼šå¼•ç”¨Mavenç»„ä»¶ã€‚

ä¸‹æ–‡ä»£ç å—å±•ç¤ºäº†ä¸€ä¸ªMavenç»„ä»¶çš„å£°æ˜æ ¼å¼ï¼š

```xml
<dependency>
    <groupId>io.minio</groupId>
    <artifactId>minio</artifactId>
    <version>8.5.7</version>
</dependency>
```

åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºGradleæ¨¡å—æ·»åŠ ä¾èµ–å£°æ˜ï¼Œå¼•ç”¨ä¸Šè¿°Mavenç»„ä»¶ã€‚

æˆ‘ä»¬éœ€è¦ç¼–è¾‘Gradleæ¨¡å—çš„ `build.gradle` é…ç½®æ–‡ä»¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹è§„åˆ™å£°æ˜ä¾èµ–ç»„ä»¶ï¼š `<ä¾èµ–æŒ‡ä»¤> "<GroupID>:<ArtifactID>:<Version>"` ã€‚

"build.gradle":

```groovy
dependencies {

    // å¯¼å…¥Mavenä¾èµ–ï¼ˆç®€åŒ–å†™æ³•ï¼‰
    implementation 'io.minio:minio:8.5.7'

    /*
     * å¯¼å…¥Mavenä¾èµ–ï¼ˆå®Œæ•´å†™æ³•ï¼‰
     *
     * æˆ‘ä»¬é€šå¸¸ä¸ä½¿ç”¨è¯¥å†™æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸Šæ–‡çš„ç®€åŒ–å†™æ³•ã€‚
     */
    implementation group: 'io.minio', name: 'minio', version: '8.5.7'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
repositories {

    // å¯¼å…¥Mavenä¾èµ–ï¼ˆç®€åŒ–å†™æ³•ï¼‰
    implementation("io.minio:minio:8.5.7")

    /*
     * å¯¼å…¥Mavenä¾èµ–ï¼ˆå®Œæ•´å†™æ³•ï¼‰
     *
     * æˆ‘ä»¬é€šå¸¸ä¸ä½¿ç”¨è¯¥å†™æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸Šæ–‡çš„ç®€åŒ–å†™æ³•ã€‚
     */
    implementation("io.minio", "minio", "8.5.7")
}
```

ä¾èµ–æŒ‡ä»¤å¯ä»¥æ§åˆ¶ç»„ä»¶çš„ä¼ é€’èŒƒå›´ï¼Œæœ€å¸¸ç”¨çš„æŒ‡ä»¤ä¸º `implementation` ã€‚å…³äºä¸åŒä¾èµ–æŒ‡ä»¤çš„åŒºåˆ«ï¼Œè¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ ä¾èµ–æŒ‡ä»¤](#ä¾èµ–æŒ‡ä»¤) ã€‚

## æœ¬åœ°ä¾èµ–
æŸäº›ç»„ä»¶å¹¶ä¸ä½¿ç”¨åœ¨çº¿ä»“åº“çš„å½¢å¼å‘å¸ƒï¼Œè€Œæ˜¯æä¾›"jar"æˆ–"aar"ç­‰æ ¼å¼çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ–‡ä»¶ä½œä¸ºæ¨¡å—çš„ä¾èµ–é¡¹ã€‚

ğŸŸ  ç¤ºä¾‹äºŒï¼šå¼•ç”¨æœ¬åœ°ç»„ä»¶ã€‚

åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºGradleæ¨¡å—æ·»åŠ ä¾èµ–å£°æ˜ï¼Œå¼•ç”¨æœ¬åœ°ç»„ä»¶ã€‚

ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨å­æ¨¡å—"app"ä¸­å»ºç«‹ `libs` ç›®å½•æ”¾ç½®åº“æ–‡ä»¶ï¼š

```text
RootProject
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ libs
â”‚   â”‚   â””â”€â”€ minio-8.5.7.jar
â”‚   â””â”€â”€ build.gradle
â””â”€â”€ build.gradle
```

ç¬¬äºŒæ­¥ï¼Œç¼–è¾‘"app"æ¨¡å—çš„ `build.gradle` é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å£°æ˜ä¾èµ–å…³ç³»ï¼š

"build.gradle":

```groovy
dependencies {
    // å¼•å…¥æŒ‡å®šçš„åº“æ–‡ä»¶ï¼ˆæ­¤å¤„åç§°ä¸º"minio-8.5.7.jar"ï¼‰
    implementation files('libs/minio-8.5.7.jar')

    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation fileTree(dir: 'libs', includes: ['*.jar'])
    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".aar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation fileTree(dir: 'libs', includes: ['*.aar'])
    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"æˆ–".aar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation fileTree(dir: 'libs', includes: ['*.jar', '*.aar'])

    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"ç»“å°¾çš„åº“æ–‡ä»¶ï¼Œå¹¶æ’é™¤åç§°ä¸º"minio-8.5.7.jar"çš„åº“æ–‡ä»¶ã€‚
    implementation fileTree(dir: 'libs', includes: ['*.jar'], excludes: ['minio-8.5.7.jar'])
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
repositories {
    // å¼•å…¥æŒ‡å®šçš„åº“æ–‡ä»¶ï¼ˆæ­¤å¤„åç§°ä¸º"minio-8.5.7.jar"ï¼‰
    implementation(files("libs/minio-8.5.7.jar"))

    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation(fileTree(mapOf("dir" to "libs", "includes" to listOf("*.jar"))))
    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".aar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation(fileTree(mapOf("dir" to "libs", "includes" to listOf("*.aar"))))
    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"æˆ–".aar"ç»“å°¾çš„åº“æ–‡ä»¶
    implementation(fileTree(mapOf("dir" to "libs", "includes" to listOf("*.aar", "*.jar"))))

    // å¼•å…¥"libs"ç›®å½•ä¸‹æ‰€æœ‰åç§°ä»¥".jar"ç»“å°¾çš„åº“æ–‡ä»¶ï¼Œå¹¶æ’é™¤åç§°ä¸º"minio-8.5.7.jar"çš„åº“æ–‡ä»¶ã€‚
    implementation(
        fileTree(
            mapOf(
                "dir" to "libs",
                "includes" to listOf("*.aar", "*.jar"),
                "excludes" to listOf("minio-8.5.7.jar")
            )
        )
    )
}
```

å½“æˆ‘ä»¬å£°æ˜æ–‡ä»¶ä¾èµ–é¡¹æ—¶ï¼Œå¦‚æœä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œåˆ™å‚è€ƒç‚¹ä¸ºå½“å‰æ¨¡å—çš„æ ¹ç›®å½•ï¼Œåœ¨æœ¬ç¤ºä¾‹ä¸­å³ `RootProject/app/` ã€‚

å¦‚æœåº“æ–‡ä»¶æ”¾ç½®åœ¨å…¶ä»–ä½ç½®ï¼Œæˆ‘ä»¬å°±éœ€è¦è°ƒæ•´ç›¸å¯¹è·¯å¾„ã€‚åœ¨ä»¥ä¸‹å·¥ç¨‹ä¸­ï¼Œåº“æ–‡ä»¶ç»Ÿä¸€æ”¾ç½®åœ¨ `RootProject/commonlibs/` ç›®å½•ä¸­ã€‚

```text
RootProject
â”œâ”€â”€ app
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ build.gradle
â””â”€â”€ commonlibs
    â””â”€â”€ minio-8.5.7.jar
```

æ­¤æ—¶ï¼Œè‹¥"app"æ¨¡å—éœ€è¦å¼•ç”¨"commonlibs"ä¸­çš„æŸä¸ªåº“ï¼Œåˆ™è·¯å¾„å˜æ›´ä¸ºä¸‹æ–‡ä»£ç å—ä¸­çš„å½¢å¼ï¼š

"build.gradle":

```groovy
dependencies {
    // å¼•å…¥çˆ¶çº§ç›®å½•ä¸‹"commonlibs"ç›®å½•ä¸­æŒ‡å®šçš„åº“æ–‡ä»¶
    implementation files('../commonlibs/minio-8.5.7.jar')
}
```

## å·¥ç¨‹ä¾èµ–
å·¥ç¨‹ä¸­çš„å„ä¸ªæ¨¡å—ä¹‹é—´é»˜è®¤æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå› æ­¤åœ¨ä»£ç å±‚é¢ä¸èƒ½ç›¸äº’è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ¨¡å—é…ç½®å·¥ç¨‹ä¾èµ–ï¼Œä½¿å…¶èƒ½å¤Ÿè°ƒç”¨å…¶ä»–æ¨¡å—ä¸­çš„ä»£ç ã€‚

ä½œä¸ºä¾èµ–é¡¹çš„æ¨¡å—å¯ä»¥æ˜¯å½“å‰å·¥ç¨‹å†…éƒ¨çš„æ¨¡å—ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤–éƒ¨å·¥ç¨‹çš„æ¨¡å—ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆåœ¨ä¸»å·¥ç¨‹çš„ `settings.gradle` é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ¨¡å—æ‰èƒ½è¿›è¡Œä¾èµ–é…ç½®ï¼Œä¸¤ç§æ¨¡å—çš„æ³¨å†Œæ–¹å¼è¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ åŸºç¡€ç”¨æ³• - æ¨¡å—ç®¡ç†](./02_åŸºç¡€ç”¨æ³•.md#æ¨¡å—ç®¡ç†) ã€‚

ğŸŸ¡ ç¤ºä¾‹ä¸‰ï¼šå¼•ç”¨Gradleæ¨¡å—ã€‚

åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºGradleæ¨¡å—æ·»åŠ ä¾èµ–å£°æ˜ï¼Œå¼•ç”¨å¦ä¸€ä¸ªGradleæ¨¡å—ã€‚

ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å»ºç«‹ä¸€äº›æ¨¡å—ï¼Œå…¶ä¸­"app"æ¨¡å—éœ€è¦è°ƒç”¨"base"å’Œ"tool"æ¨¡å—ä¸­çš„å…¬å…±ç»„ä»¶ã€‚

```text
RootProject
â”œâ”€â”€ app
â””â”€â”€ common
    â”œâ”€â”€ base
    â””â”€â”€ tool
```

ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç¼–è¾‘"app"æ¨¡å—çš„ `build.gradle` é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹å£°æ˜è¯­å¥ï¼š

"build.gradle":

```groovy
dependencies {
    implementation project(':common:base')
    implementation project(':common:tool')
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
repositories {
    implementation(project(":common:base"))
    implementation(project(":common:tool"))
}
```

æ­¤æ—¶"app"æ¨¡å—å³å¯å¼•ç”¨"base"å’Œ"tool"æ¨¡å—ä¸­çš„ç±»ä¸æ–¹æ³•ã€‚

## ä¾èµ–æŒ‡ä»¤
å„ç§ä¾èµ–æŒ‡ä»¤çš„ä½œç”¨ä¸ç¤ºä¾‹å¦‚ä¸‹æ–‡å†…å®¹æ‰€ç¤ºã€‚

ğŸ”· `implementation`

è¯¥æŒ‡ä»¤ä¼šä½¿ä¾èµ–ç»„ä»¶å‚ä¸å½“å‰æ¨¡å—çš„ç¼–è¯‘ã€æ‰“åŒ…è‡³æ„å»ºäº§ç‰©ï¼Œä½†æ˜¯ä¾èµ–å…³ç³»ä¸ä¼šä¼ é€’ç»™å½“å‰æ¨¡å—çš„è°ƒç”¨è€…ã€‚

åœ¨ä»¥ä¸‹ä¾èµ–å…³ç³»ç¤ºä¾‹ä¸­ï¼Œâ€œç»„ä»¶Bâ€ä½¿ç”¨ `implementation ç»„ä»¶C` è¯­å¥å£°æ˜äº†å¯¹äºâ€œç»„ä»¶Câ€çš„ä¾èµ–å…³ç³»ï¼š

```text
ç»„ä»¶A -- ä¾èµ–äº(implementation) -> ç»„ä»¶B -- ä¾èµ–äº(implementation) -> ç»„ä»¶C
```

æ­¤æ—¶â€œç»„ä»¶Bâ€å¯ä»¥è°ƒç”¨â€œç»„ä»¶Câ€ä¸­çš„ä»£ç ï¼Œä½†è¯¥ä¾èµ–å…³ç³»ä¸ä¼šä¼ é€’ç»™â€œç»„ä»¶Aâ€ï¼Œå› æ­¤â€œç»„ä»¶Aâ€æ— æ³•è°ƒç”¨â€œç»„ä»¶Câ€ä¸­çš„ä»£ç ã€‚

ğŸ”· `api`

è¯¥æŒ‡ä»¤ä¼šä½¿ä¾èµ–ç»„ä»¶å‚ä¸å½“å‰æ¨¡å—çš„ç¼–è¯‘ã€æ‰“åŒ…è‡³æ„å»ºäº§ç‰©ï¼Œå¹¶ä¸”ä¾èµ–å…³ç³»ä¹Ÿä¼šä¼ é€’ç»™å½“å‰æ¨¡å—çš„è°ƒç”¨è€…ã€‚

åœ¨ä»¥ä¸‹ä¾èµ–å…³ç³»ç¤ºä¾‹ä¸­ï¼Œâ€œç»„ä»¶Bâ€ä½¿ç”¨ `api ç»„ä»¶C` è¯­å¥å£°æ˜äº†å¯¹äºâ€œç»„ä»¶Câ€çš„ä¾èµ–å…³ç³»ï¼š

```text
ç»„ä»¶A -- ä¾èµ–äº(implementation) -> ç»„ä»¶B -- ä¾èµ–äº(api) -> ç»„ä»¶C
```

æ­¤æ—¶â€œç»„ä»¶Bâ€å¯ä»¥è°ƒç”¨â€œç»„ä»¶Câ€ä¸­çš„ä»£ç ï¼Œè¯¥ä¾èµ–å…³ç³»ä¼šä¼ é€’ç»™â€œç»„ä»¶Aâ€ï¼Œå› æ­¤â€œç»„ä»¶Aâ€ä¹Ÿå¯ä»¥è°ƒç”¨â€œç»„ä»¶Câ€ä¸­çš„ä»£ç ã€‚

ç”±äºä»…æœ‰Libraryç±»å‹æ¨¡å—æ‰ä¼šè¢«å…¶ä»–æ¨¡å—ä½œä¸ºä¾èµ–é¡¹å¼•å…¥ï¼Œæ‰€ä»¥è¯¥æŒ‡ä»¤åªèƒ½åº”ç”¨åœ¨ç±»å‹ä¸º `java-library` æˆ– `com.android.library` çš„æ¨¡å—ä¸­ã€‚

ğŸ”· `compileOnly`

è¯¥æŒ‡ä»¤ä¼šä½¿ä¾èµ–ç»„ä»¶å‚ä¸å½“å‰æ¨¡å—çš„ç¼–è¯‘ï¼Œä½†ä¸ä¼šè¢«æ‰“åŒ…è‡³æ„å»ºäº§ç‰©ï¼Œä¾èµ–ä¼ é€’æ€§ç­‰åŒäº `implementation` æŒ‡ä»¤ã€‚

å½“æˆ‘ä»¬ä¸ºå®šåˆ¶åŒ–çš„Androidå‘è¡Œç‰ˆç¼–å†™ç³»ç»Ÿçº§åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯èƒ½éœ€è¦è°ƒç”¨ä¸€äº›ç‰¹æ®Šçš„APIï¼Œè¿™äº›APIåœ¨æ ‡å‡†çš„Android SDKä¸­å¹¶ä¸å­˜åœ¨ï¼Œæˆ–è€…æ˜¯éšè—APIï¼Œç›´æ¥è°ƒç”¨å°†æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å°†å‘è¡Œç‰ˆå‚å•†æä¾›çš„ `framework.jar` æ–‡ä»¶ä½œä¸ºä¾èµ–é¡¹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘ã€‚ç”±äºSDKä¸­çš„ç»„ä»¶åœ¨è¿è¡Œæ—¶ç”±ç³»ç»Ÿæä¾›ï¼Œ `framework.jar` ä¸­é€šå¸¸åªæœ‰APIçš„ç©ºå®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ `compileOnly` æŒ‡ä»¤ï¼Œé¿å…å°† `framework.jar` æ‰“åŒ…è‡³æ„å»ºäº§ç‰©ã€‚

ğŸ”· `runtimeOnly`

è¯¥æŒ‡ä»¤æ‰€å£°æ˜çš„ä¾èµ–ç»„ä»¶ä¸ä¼šå‚ä¸å½“å‰æ¨¡å—çš„ç¼–è¯‘ï¼Œä½†æ˜¯ä¼šè¢«æ‰“åŒ…è‡³æ„å»ºäº§ç‰©ï¼Œä¾èµ–ä¼ é€’æ€§ç­‰åŒäº `implementation` æŒ‡ä»¤ã€‚

è¯¥æŒ‡ä»¤çš„ä½œç”¨æ˜¯å®ç°æ¨¡å—é—´çš„è§£è€¦ï¼Œæˆ‘ä»¬åœ¨æ¨¡å—ä¸­æ— æ³•ç›´æ¥å¼•ç”¨ä¾èµ–ç»„ä»¶ä¸­çš„ä»£ç ï¼Œåªèƒ½è°ƒç”¨æ¨¡å—ä¸ä¾èµ–ç»„ä»¶çš„å…¬å…±æ¥å£ï¼Œæˆ–è€…é€šè¿‡åå°„æ“ä½œï¼Œæé«˜äº†ç¨‹åºçš„åŠ¨æ€æ€§ã€‚

å½“ç¨‹åºç¼–è¯‘æ—¶åªéœ€è¦ä½¿ç”¨JDBCçš„æ ‡å‡†APIï¼Œå¹¶ä¸å…³å¿ƒJDBCé©±åŠ¨çš„å…·ä½“å®ç°ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ `runtimeOnly` æŒ‡ä»¤é…ç½®JDBCé©±åŠ¨ä¾èµ–é¡¹ã€‚

ğŸ”· `testImplementation`

åœ¨æ ‡å‡†çš„Maven Javaå·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `<æ¨¡å—æ ¹ç›®å½•>/src/test/java/` ç­‰ç›®å½•ä¸‹æ”¾ç½®æµ‹è¯•ä»£ç ï¼Œ

```text
<æ¨¡å—æ ¹ç›®å½•>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚Â Â  â””â”€â”€ java
    â”‚Â Â      â””â”€â”€ net.bi4vmr.study
    â”‚Â Â          â””â”€â”€ MathUtil.java
    â””â”€â”€ test
        â””â”€â”€ java
            â””â”€â”€ net.bi4vmr.study
                â””â”€â”€ TestMathUtil.java
```

æµ‹è¯•ä»£ç é›†é»˜è®¤å¯ä»¥è®¿é—®mainä»£ç é›†ä¸­çš„ä¸šåŠ¡ä»£ç ï¼Œä»¥åŠ  å¼•å…¥çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºæµ‹è¯•ç±»å¹¶è°ƒç”¨ä¸šåŠ¡ä»£ç å¯¹å®ƒä»¬è¿›è¡ŒåŠŸèƒ½éªŒè¯ï¼Œ

å¯¹äºä¸€äº›æµ‹è¯•ä¸“ç”¨çš„å·¥å…·ï¼Œä¾‹å¦‚JUnit/Mockå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ testImplementation è¿›è¡Œå£°æ˜ï¼Œå®ƒä»¬ä»…é™ `test` ä»£ç é›†å†…éƒ¨å¯ç”¨ï¼Œä¸ä¼šæ±¡æŸ“ `main`ä»£ç é›†ã€‚


ğŸ”· `testCompileOnly`

ä¸ implementation/api/runtimeOnly æŒ‡ä»¤ä¸åŒï¼Œæµ‹è¯•ä»£ç é›†ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿ `main`ä»£ç é›†ä¸­é€šè¿‡ `compileOnly` å£°æ˜çš„ä¾èµ–é¡¹ï¼Œè‹¥æˆ‘ä»¬åœ¨æµ‹è¯•ä»£ç ä¸­ç”¨åˆ°äº†ç›¸å…³ç»„ä»¶ï¼Œéœ€è¦é€šè¿‡ `testCompileOnly` å£°æ˜å®ƒä»¬ï¼Œå¦åˆ™æµ‹è¯•ä»£ç ç¼–è¯‘æ—¶å°†ä¼šç¼ºå°‘ä¾èµ–è€Œå‡ºç°é”™è¯¯ã€‚

```groovy
dependencies {
    // ä¸šåŠ¡ä»£ç é›†å£°æ˜ç»„ä»¶ä¾èµ–
    compileOnly 'org.projectlombok:lombok:1.18.24'

    // æµ‹è¯•ä»£ç é›†å£°æ˜ç»„ä»¶ä¾èµ–
    testCompileOnly 'org.projectlombok:lombok:1.18.24'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
dependencies {
    // ä¸šåŠ¡ä»£ç é›†å£°æ˜ç»„ä»¶ä¾èµ–
    compileOnly("org.projectlombok:lombok:1.18.24")

    // æµ‹è¯•ä»£ç é›†å£°æ˜ç»„ä»¶ä¾èµ–
    testCompileOnly("org.projectlombok:lombok:1.18.24")
}
```

ğŸ”· `annotationProcessor`

APT(Annotation Processing Tool)ç”¨äºæ‰«æå¹¶å¤„ç†ä»£ç ä¸­çš„æ³¨è§£ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆç›¸å…³ä»£ç ã€‚

AnnotationProcessoræ˜¯Gradleå†…ç½®çš„Javaè¯­è¨€APTï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹åº“å®šä¹‰æ³¨è§£æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨ `annotationProcessor` æŒ‡ä»¤æ·»åŠ æ³¨è§£å¤„ç†å™¨ï¼Œä½¿å¾—ç¼–è¯‘å™¨èƒ½å¤Ÿå¤„ç†è¿™äº›æ³¨è§£ã€‚

ä»¥Androidä¸­çš„Roomåº“ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `implementation` æŒ‡ä»¤å£°æ˜ç»„ä»¶ä¾èµ–ï¼Œå¹¶ä½¿ç”¨ `annotationProcessor` æŒ‡ä»¤å£°æ˜å¯¹åº”çš„æ³¨è§£å¤„ç†å™¨ã€‚

```groovy
dependencies {
    // å£°æ˜ç»„ä»¶ä¾èµ–
    implementation 'androidx.room:room-runtime:2.6.1'
    // å£°æ˜æ³¨è§£å¤„ç†å™¨
    annotationProcessor 'androidx.room:room-compiler:2.6.1'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
dependencies {
    // å£°æ˜ç»„ä»¶ä¾èµ–
    implementation("androidx.room:room-runtime:2.6.1")
    // å£°æ˜æ³¨è§£å¤„ç†å™¨
    annotationProcessor("androidx.room:room-compiler:2.6.1")
}
```

æ³¨è§£å¤„ç†å™¨çš„åç§°å¯ä»¥å‚è€ƒç¬¬ä¸‰æ–¹åº“çš„è¯´æ˜æ–‡æ¡£ã€‚

ğŸ”· `kapt`

KAPTæ˜¯Kotlinè¯­è¨€çš„æ³¨è§£å¤„ç†å™¨ï¼ŒKotlinç¼–è¯‘å™¨å¹¶ä¸èƒ½è¯†åˆ« `annotationProcessor` æŒ‡ä»¤ï¼Œå½“æˆ‘ä»¬ä¸ºé¡¹ç›®æ·»åŠ Kotlinè¯­è¨€æ”¯æŒåï¼Œéœ€è¦å°† `annotationProcessor` æŒ‡ä»¤å…¨éƒ¨æ›¿æ¢ä¸º `kapt` æŒ‡ä»¤ã€‚

```groovy
plugins {
    // ä¸ºå½“å‰æ¨¡å—æ·»åŠ KAPTæ”¯æŒ
    id 'kotlin-kapt'
}

dependencies {
    implementation 'androidx.room:room-runtime:2.6.1'
    // å°†AnnotationProcessoræ›¿æ¢ä¸ºKAPT
    kapt 'androidx.room:room-compiler:2.6.1'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
plugins {
    // ä¸ºå½“å‰æ¨¡å—æ·»åŠ KAPTæ”¯æŒ
    id("kotlin-kapt")
}

dependencies {
    implementation("androidx.room:room-runtime:2.6.1")
    // å°†AnnotationProcessoræ›¿æ¢ä¸ºKAPT
    kapt("androidx.room:room-compiler:2.6.1")
}
```

## å¯å˜ç‰ˆæœ¬
### ç®€ä»‹
åœ¨å‰æ–‡ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ‰€å£°æ˜çš„è¿œç¨‹ä¾èµ–ç»„ä»¶éƒ½å…·æœ‰å›ºå®šçš„ç‰ˆæœ¬å·ï¼›ä¸ºäº†é€‚åº”æ›´ä¸°å¯Œçš„ä¸šåŠ¡åœºæ™¯ï¼ŒGradleæä¾›äº†å¯¹äºåŠ¨æ€ç‰ˆæœ¬å·çš„æ”¯æŒï¼Œè¯¦ç»†ä¿¡æ¯å¯åœ¨ [ğŸ”— Gradleå®˜æ–¹æ–‡æ¡£ - ä¾èµ–ç»„ä»¶çš„ç‰ˆæœ¬å·](https://docs.gradle.org/current/userguide/single_versions.html) ç½‘é¡µä¸­æŸ¥é˜…ã€‚

### åŠ¨æ€ç‰ˆæœ¬
æœ‰æ—¶æˆ‘ä»¬ä¸ä¼šç¡®åˆ‡åœ°æŒ‡å®šç»„ä»¶çš„ç‰ˆæœ¬ï¼ŒGradleæä¾›äº†ä»¥ä¸‹æ–¹æ¡ˆï¼š

ğŸ”· Mavené£æ ¼çš„ç‰ˆæœ¬èŒƒå›´å£°æ˜

åœ¨Mavenä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒºé—´è¡¨ç¤ºæ³•æ ‡è¯†ç‰ˆæœ¬èŒƒå›´ï¼Œä¾‹å¦‚ `[1.0, 2.0)` ã€ `(2.0, 3.0]` ã€‚

å…¶ä¸­æ–¹æ‹¬å·( `[]` )è¡¨ç¤ºåŒ…å«è¾¹ç•Œï¼Œè€Œåœ†æ‹¬å·( `()` )åˆ™è¡¨ç¤ºä¸åŒ…å«è¾¹ç•Œã€‚

ğŸ”· å‰ç¼€ç‰ˆæœ¬èŒƒå›´å£°æ˜

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ å·( `+` )è¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š`1.+` ã€ `2.1+` ï¼ŒGradleå°†ä¼šæŸ¥æ‰¾å‰ç¼€åŒ¹é…çš„ç‰ˆæœ¬ã€‚

ğŸ”· æœ€æ–°ç‰ˆæœ¬

Gradleæä¾›äº†ä¸¤ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œå¯ä»¥å£°æ˜ç»„ä»¶ä¸ºæœ€æ–°ç‰ˆæœ¬ï¼š

- `latest.release` : åŒ¹é…ç‰ˆæœ¬æœ€é«˜çš„éSNAPSHOTç»„ä»¶ã€‚
- `latest.integration` : åŒ¹é…ç‰ˆæœ¬æœ€é«˜çš„SNAPSHOTç»„ä»¶ã€‚

<br />

é»˜è®¤æƒ…å†µä¸‹ï¼ŒGradleåœ¨é¦–æ¬¡ä¸‹è½½åŠ¨æ€ç»„ä»¶åçš„24å°æ—¶ä¹‹å†…ï¼Œä¸ä¼šå†é‡æ–°æ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦å­˜åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬ï¼›å¦‚æœåŠ¨æ€ç»„ä»¶æ›´æ–°è¾ƒä¸ºé¢‘ç¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼©çŸ­æ£€æŸ¥é—´éš”ï¼Œæˆ–è€…ç›´æ¥å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œä½¿å¾—Gradleæ¯æ¬¡æ‰§è¡Œæ„å»ºä»»åŠ¡æ—¶éƒ½è¿›è¡Œç‰ˆæœ¬æ£€æŸ¥ã€‚

"build.gradle"ï¼š

```groovy
configurations.all {

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸ºâ€œ1å°æ—¶â€
    resolutionStrategy.cacheDynamicVersionsFor 1, TimeUnit.HOURS

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œå³æ¯æ¬¡æ„å»ºæ—¶éƒ½è¿›è¡Œæ£€æŸ¥ã€‚
    resolutionStrategy.cacheDynamicVersionsFor 0, TimeUnit.SECONDS
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts"ï¼š

```kotlin
configurations.all {

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸ºâ€œ1å°æ—¶â€
    resolutionStrategy.cacheDynamicVersionsFor(1, TimeUnit.HOURS)

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œå³æ¯æ¬¡æ„å»ºæ—¶éƒ½è¿›è¡Œæ£€æŸ¥ã€‚
    resolutionStrategy.cacheDynamicVersionsFor(0, TimeUnit.SECONDS)
}
```

### å¿«ç…§ç‰ˆæœ¬
åœ¨Mavenä»“åº“ä¸­ï¼Œç‰ˆæœ¬åç¼€ä¸º"SNAPSHOT"çš„ç»„ä»¶å¤„äºå¼€å‘é˜¶æ®µï¼Œå‘å¸ƒè€…å¯èƒ½éšæ—¶æ›´æ–°æ–‡ä»¶è€Œä¸æå‡ç‰ˆæœ¬å·ï¼Œè°ƒç”¨è€…æ¯æ¬¡æ‰§è¡Œç¼–è¯‘ä¹‹å‰éƒ½åº”å½“é‡æ–°ä¸‹è½½è¿™äº›æ–‡ä»¶ï¼Œä»¥ç¡®ä¿è·å–åˆ°çš„æ–‡ä»¶ä¸ºæœ€æ–°çŠ¶æ€ã€‚

Gradleèƒ½å¤Ÿæ”¯æŒMavençš„Snapshotæœºåˆ¶ï¼Œå½“æˆ‘ä»¬å£°æ˜ç‰ˆæœ¬åç¼€ä¸º"SNAPSHOT"çš„ä¾èµ–é¡¹æ—¶ï¼ŒGradleå°†ä¼šå®šæœŸæ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦å­˜åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒGradleåœ¨é¦–æ¬¡ä¸‹è½½Snapshotç»„ä»¶åçš„24å°æ—¶ä¹‹å†…ï¼Œä¸ä¼šå†é‡æ–°æ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦å­˜åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬ï¼›å¦‚æœSnapshotç»„ä»¶æ›´æ–°è¾ƒä¸ºé¢‘ç¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼©çŸ­æ£€æŸ¥é—´éš”ï¼Œæˆ–è€…ç›´æ¥å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œä½¿å¾—Gradleæ¯æ¬¡æ‰§è¡Œæ„å»ºä»»åŠ¡æ—¶éƒ½è¿›è¡Œç‰ˆæœ¬æ£€æŸ¥ã€‚

"build.gradle"ï¼š

```groovy
configurations.all {

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸ºâ€œ1å°æ—¶â€
    resolutionStrategy.cacheChangingModulesFor 1, TimeUnit.HOURS

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œå³æ¯æ¬¡æ„å»ºæ—¶éƒ½è¿›è¡Œæ£€æŸ¥ã€‚
    resolutionStrategy.cacheChangingModulesFor 0, TimeUnit.SECONDS
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts"ï¼š

```kotlin
configurations.all {

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸ºâ€œ1å°æ—¶â€
    resolutionStrategy.cacheChangingModulesFor(1, TimeUnit.HOURS)

    // å°†æ£€æŸ¥é—´éš”è®¾ç½®ä¸º"0"ï¼Œå³æ¯æ¬¡æ„å»ºæ—¶éƒ½è¿›è¡Œæ£€æŸ¥ã€‚
    resolutionStrategy.cacheChangingModulesFor(0, TimeUnit.SECONDS)
}
```

å…¬å…±ä»“åº“ä¸­çš„éSnapshotç‰ˆæœ¬é€šå¸¸æ˜¯ç¨³å®šçš„ï¼Œä¸€æ—¦è¢«å‘å¸ƒå°±ä¸ä¼šå†å˜æ›´ï¼›åœ¨å›¢é˜Ÿåä½œä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬æ— æ³•ä½¿ç”¨Snapshotæœºåˆ¶ï¼Œåªèƒ½ä¸æ–­åœ°æ›´æ–°å…·æœ‰å›ºå®šç‰ˆæœ¬å·çš„ç»„ä»¶ï¼Œè¿™ä¼šå¯¼è‡´è°ƒç”¨è€…çš„æœ¬åœ°ç¼“å­˜æ–‡ä»¶ä¸å‘å¸ƒè€…æäº¤çš„æœ€æ–°æ–‡ä»¶ä¸ä¸€è‡´ï¼Œä»è€Œå¹²æ‰°è°ƒè¯•è¿‡ç¨‹ã€‚

Gradleèƒ½å¤Ÿå°†éSnapshotç‰ˆæœ¬çš„ç»„ä»¶ä¹Ÿè§†ä¸ºå¿«ç…§ç‰ˆæœ¬ï¼Œåœ¨æ„å»ºæ—¶æ£€æŸ¥å®ƒä»¬çš„å˜åŒ–ï¼š

"build.gradle"ï¼š

```groovy
implementation('com.example:utils:0.0.1') {
    // å°†è¯¥ç»„ä»¶è§†ä¸ºå¯å˜çš„
    setChanging true
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts"ï¼š

```kotlin
implementation("com.example:utils:0.0.1") {
    // å°†è¯¥ç»„ä»¶è§†ä¸ºå¯å˜çš„
    isChanging = true
}
```

> ğŸš© æç¤º
>
> "isChanging"å±æ€§åªå¯¹å½“å‰ç»„ä»¶ç”Ÿæ•ˆï¼Œå³ä½¿è¯¥ç»„ä»¶æ‰€ä¾èµ–çš„å…¶ä»–ç»„ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼ŒGradleä¹Ÿä¸ä¼šå°è¯•åˆ·æ–°å®ƒä»¬ã€‚
>
> å¦‚æœæ‰€æœ‰å¯å˜ç»„ä»¶å…·æœ‰ç›¸åŒçš„å‰ç¼€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ è¿œç¨‹ä¾èµ–ç¼“å­˜](#è¿œç¨‹ä¾èµ–ç¼“å­˜) ä¸­çš„æ–¹æ³•ï¼Œç›´æ¥åˆ é™¤ç¼“å­˜æ–‡ä»¶ï¼Œè¿«ä½¿Gradleåˆ·æ–°å®ƒä»¬ã€‚

### ç›¸å…³å‘½ä»¤
å½“æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤è¡Œè¿›è¡Œç¼–è¯‘æ—¶ï¼Œå¯ä»¥æ·»åŠ ä¸€äº›é€‰é¡¹æ”¹å˜ç¼“å­˜çš„è¡Œä¸ºï¼š

ğŸ”· `--offline`

ç¦»çº¿æ¨¡å¼ã€‚

ä»…ä½¿ç”¨æœ¬åœ°ç¼“å­˜ä¸­çš„ç»„ä»¶ï¼Œä¸å†æ£€æŸ¥åŠ¨æ€ç‰ˆæœ¬ä¸å¯å˜ç‰ˆæœ¬æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæœ¬åœ°ç¼“å­˜ç¼ºå°‘æŸäº›ç»„ä»¶ï¼Œå°†ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚

ğŸ”· `-U` æˆ– `--refresh-dependencies`

å¿½ç•¥æœ¬åœ°ç¼“å­˜ï¼Œé‡æ–°è®¡ç®—åŠ¨æ€ç‰ˆæœ¬ã€ä¸‹è½½å¯å˜ä¸ä¸å¯å˜ä¸ç»„ä»¶ã€‚

æˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨è¯¥é€‰é¡¹ï¼Œè¿™æ˜¯å› ä¸ºå…¬å…±ä»“åº“ä¸­çš„ç»å¤§éƒ¨åˆ†ç»„ä»¶éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé‡æ–°ä¸‹è½½å®ƒä»¬éå¸¸è€—æ—¶ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åˆ·æ–°ç‰¹å®šçš„ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ è¿œç¨‹ä¾èµ–ç¼“å­˜](#è¿œç¨‹ä¾èµ–ç¼“å­˜) ä¸­çš„æ–¹æ³•ï¼Œç›´æ¥åˆ é™¤ç¼“å­˜æ–‡ä»¶ï¼Œè¿«ä½¿Gradleåˆ·æ–°å®ƒä»¬ã€‚

## Maven BOM
Maven BOM(Bill Of Materials)æ˜¯ä¸€ç§ç‰¹æ®Šçš„POMæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šä¸ªç»„ä»¶çš„ç‰ˆæœ¬å·å®šä¹‰ï¼Œé€šå¸¸ç”¨äºå…·æœ‰å¤šä¸ªå­æ¨¡å—çš„åº“ã€‚

BOMçš„å‘å¸ƒè€…åº”å½“ç¡®ä¿å…¶ä¸­å„å­æ¨¡å—çš„ç‰ˆæœ¬èƒ½å¤ŸååŒè¿ä½œï¼Œä¸ä¼šå‡ºç°å†²çªï¼Œå½“æˆ‘ä»¬ä¸ºæ¨¡å—å¼•å…¥BOMæ–‡ä»¶åï¼Œå†å¼•ç”¨ç›¸å…³å­æ¨¡å—å°±å¯ä»¥çœç•¥ç‰ˆæœ¬å·ã€‚

åœ¨Gradleä¸­ï¼Œå¼•ç”¨BOMæ–‡ä»¶çš„è¯­æ³•ä¸å¼•ç”¨å…¶ä»–ç»„ä»¶ç±»ä¼¼ï¼Œä½†æˆ‘ä»¬éœ€è¦å°†BOMæ–‡ä»¶æ”¾ç½®åœ¨ `platform()` æ–¹æ³•ä¸­ã€‚

"build.gradle":

```groovy
dependencies {
    // Jetpack Compose BOMç‰ˆæœ¬é…ç½®
    implementation platform('androidx.compose:compose-bom:2023.06.01')

    // Jetpack Compose ç»„ä»¶
    implementation 'androidx.compose.ui:ui'
    implementation 'androidx.compose.ui:ui-tooling'
    implementation 'androidx.compose.ui:ui-tooling-preview'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
dependencies {
    // Jetpack Compose BOMç‰ˆæœ¬é…ç½®
    implementation(platform("androidx.compose:compose-bom:2023.06.01"))

    // Jetpack Compose ç»„ä»¶
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.ui:ui-tooling")
    implementation("androidx.compose.ui:ui-tooling-preview")
}
```

## è¿œç¨‹ä¾èµ–ç¼“å­˜
Gradleä¼šå°†è¿œç¨‹ä¾èµ–ç»„ä»¶å­˜å‚¨åˆ°ç¯å¢ƒå˜é‡ `GRADLE_USER_HOME` æ‰€æŒ‡å®šçš„ç›®å½•ä¸­ï¼Œä»¥ä¾¿åœ¨å¤šä¸ªé¡¹ç›®ä¹‹é—´å…±äº«æ–‡ä»¶ï¼Œé¿å…é‡å¤ä¸‹è½½ã€‚

ä»¥ä¸‹è·¯å¾„ä¸ºæœªè®¾ç½® `GRADLE_USER_HOME` ç¯å¢ƒå˜é‡æ—¶çš„é»˜è®¤ç¼“å­˜è·¯å¾„ï¼š

```text
<ç”¨æˆ·ä¸»ç›®å½•>/.gradle/caches/modules-2/files-2.1/<GroupID>/<ArtifactID>/<Version>/<SHA1æ¶ˆæ¯æ‘˜è¦>/<JARã€AARæˆ–POMæ–‡ä»¶>
```

å½“æˆ‘ä»¬éœ€è¦æ›¿æ¢æŸä¸ªç»„ä»¶è¿›è¡Œæœ¬åœ°è°ƒè¯•æ—¶ï¼Œå¯ä»¥æ ¹æ®ä¸Šè¿°è§„åˆ™å®šä½åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œæ‰§è¡Œæ›¿æ¢æ“ä½œã€‚

å½“æˆ‘ä»¬éœ€è¦å¼ºåˆ¶åˆ·æ–°ç»„ä»¶ç‰ˆæœ¬æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æœç´¢å¹¶åˆ é™¤ç‰¹å®šçš„æ–‡ä»¶ï¼š

```text
[bi4vmr@Fedora ~]$ find ~/.gradle/caches/modules-2/files-2.1/ -iname "*<å…³é”®è¯>*" | xargs -t -n 1 rm -rf
```

## æŸ¥çœ‹ä¾èµ–å…³ç³»
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `gradle <æ¨¡å—åç§°>:dependencies` å‘½ä»¤æŸ¥çœ‹æŒ‡å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œè¯¥å‘½ä»¤ä¼šé€’å½’è§£ææ¯ä¸ªä¾èµ–é¡¹çš„ä¾èµ–ç»„ä»¶ï¼Œå¹¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Šï¼Œä»¥ä¾¿æˆ‘ä»¬è¿›è¡Œè°ƒè¯•ä¸æ’é”™ã€‚

ä¸ºäº†å‡å°‘è¾“å…¥å†…å®¹ä¾¿äºæ¼”ç¤ºï¼Œæˆ‘ä»¬ä»…ä¸º"app"æ¨¡å—æ·»åŠ ä¸€ä¸ªä¾èµ–é¡¹ã€‚

```groovy
dependencies {
    implementation 'com.squareup.okhttp3:okhttp:4.12.0'
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

```kotlin
dependencies {
    implementation("com.squareup.okhttp3:okhttp:4.12.0")
}
```

æ­¤æ—¶æ‰§è¡Œä¾èµ–æŸ¥çœ‹å‘½ä»¤ï¼Œå³å¯å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ã€‚

```text
# æŸ¥çœ‹"app"æ¨¡å—çš„ä¾èµ–å…³ç³»
[root@Fedora Project]# ./gradlew app:dependencies

# æ­¤å¤„çœç•¥éƒ¨åˆ†è¾“å‡ºå†…å®¹...

compileClasspath - Compile classpath for source set 'main'.
\--- com.squareup.okhttp3:okhttp:4.12.0
     +--- com.squareup.okio:okio:3.6.0
     |    \--- com.squareup.okio:okio-jvm:3.6.0
     |         +--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.10
     |         |    +--- org.jetbrains.kotlin:kotlin-stdlib:1.9.10
     |         |    |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.9.10
     |         |    |    \--- org.jetbrains:annotations:13.0
     |         |    \--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.10
     |         |         \--- org.jetbrains.kotlin:kotlin-stdlib:1.9.10 (*)
     |         \--- org.jetbrains.kotlin:kotlin-stdlib-common:1.9.10
     \--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.21 -> 1.9.10 (*)

# æ­¤å¤„çœç•¥éƒ¨åˆ†è¾“å‡ºå†…å®¹...
```

åœ¨ä¸Šè¿°è¾“å‡ºå†…å®¹ä¸­ï¼Œ `compileClasspath` å°èŠ‚å³ä¸ºå½“å‰æ¨¡å—ç¼–è¯‘é˜¶æ®µçš„ä¾èµ–å…³ç³»æ ‘ï¼Œä¸å…¶ç±»ä¼¼çš„è¿˜æœ‰ `runtimeClasspath` ã€ `testCompileClasspath` ã€ `testRuntimeClasspath` ç­‰å°èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å¹¶æŸ¥çœ‹ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤ä¸­æ·»åŠ  `--configuration` é€‰é¡¹ï¼Œç­›é€‰æŒ‡å®šé˜¶æ®µçš„å†…å®¹ï¼Œå‡å°‘è¾“å‡ºå†…å®¹ã€‚

```text
# æŸ¥çœ‹"app"æ¨¡å—ç¼–è¯‘é˜¶æ®µçš„ä¾èµ–å…³ç³»
[root@Fedora Project]# ./gradlew app:dependencies --configuration compileClasspath
```

# ç‰ˆæœ¬å†²çª
## ç®€ä»‹
å½“æˆ‘ä»¬ä¸ºæ¨¡å—é…ç½®å¤šä¸ªä¾èµ–é¡¹åï¼Œè¿™äº›ä¾èµ–é¡¹å¯èƒ½ä¾èµ–äºåŒä¸€ä¸ªç»„ä»¶çš„ä¸åŒç‰ˆæœ¬ï¼Œæ­¤æ—¶å°±æœ‰å¯èƒ½äº§ç”Ÿå†²çªï¼Œå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚

æ­¤å¤„æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹å·¥ç¨‹ï¼Œæ¼”ç¤ºä¾èµ–å†²çªçš„æƒ…å†µï¼Œå·¥ç¨‹ç»“æ„å¦‚ä¸‹æ–‡ä»£ç å—æ‰€ç¤ºï¼š

```text
RootProject
â”œâ”€â”€ appï¼ˆä¾èµ–"library01"å’Œ"library02"ï¼‰
â”œâ”€â”€ library01ï¼ˆä¾èµ–äºGSON v2.9.0ï¼‰
â””â”€â”€ library02ï¼ˆä¾èµ–äºGSON v2.9.1ï¼‰
```

åœ¨ä¸Šè¿°ç¤ºä¾‹å·¥ç¨‹ä¸­ï¼Œ"app"æ¨¡å—ä¾èµ–äº"library01"å’Œ"library02"æ¨¡å—ï¼Œè€Œ"library01"å’Œ"library02"æ¨¡å—ä¾èµ–äºä¸åŒç‰ˆæœ¬çš„GSONåº“ï¼Œæ­¤æ—¶å°±ä¼šäº§ç”Ÿå†²çªã€‚

## é»˜è®¤ç­–ç•¥
å½“Gradleè§£æåˆ°åŒä¸€ç»„ä»¶çš„å¤šä¸ªç‰ˆæœ¬æ—¶ï¼Œé»˜è®¤è¡Œä¸ºæ˜¯é€‰æ‹©å…¶ä¸­ç‰ˆæœ¬å·æœ€å¤§çš„ä¸€é¡¹ã€‚

```text
# æŸ¥çœ‹"app"æ¨¡å—çš„ä¾èµ–å…³ç³»
[root@Fedora Project]# ./gradlew app:dependencies --configuration runtimeClasspath

runtimeClasspath - Runtime classpath of source set 'main'.
+--- project :library01
|    \--- com.google.code.gson:gson:2.9.0 -> 2.9.1
\--- project :library02
     \--- com.google.code.gson:gson:2.9.1

# æ­¤å¤„çœç•¥éƒ¨åˆ†è¾“å‡ºå†…å®¹...
```

ä»ä¸Šè¿°è¾“å‡ºä¿¡æ¯å¯çŸ¥ï¼Œ"library01"æ‰€ä¾èµ–çš„GSONç‰ˆæœ¬å·"2.9.0"ä½äº"library02"çš„"2.9.1"ï¼Œå› æ­¤è¢«æ”¹å†™ä¸º"2.9.1"ã€‚

é»˜è®¤ç­–ç•¥èƒ½å¤Ÿè§£å†³å¤§å¤šæ•°ä¾èµ–å†²çªçš„æƒ…å†µï¼Œä½†æœ‰æ—¶æ— æ³•å¥æ•ˆï¼Œä¾‹å¦‚ï¼šæŸä¸ªæ¨¡å—è°ƒç”¨äº†è¾ƒä½ç‰ˆæœ¬ç»„ä»¶ä¸­çš„ç±»ï¼Œè€Œåœ¨è¾ƒé«˜ç‰ˆæœ¬ç»„ä»¶ä¸­è¯¥ç±»å·²è¢«ç§»é™¤ï¼›å½“Gradleæ”¹å†™ç‰ˆæœ¬åï¼Œè¯¥æ¨¡å—å°±ä¼šå› æ‰¾ä¸åˆ°ç±»è€Œæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚å‡ºç°æ­¤ç±»æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦é€‰æ‹©åæ–‡çš„æ–¹å¼æ‰‹åŠ¨è§£å†³å†²çªã€‚

## æ’é™¤ä¾èµ–ç»„ä»¶
ä¸ºäº†æ¨¡æ‹Ÿä¾èµ–å†²çªçš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ç¨‹æ ¹ç›®å½•çš„ `build.gradle` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œç¦ç”¨é»˜è®¤ç­–ç•¥ï¼Œæ”¹ä¸ºæŠ¥é”™å¹¶ç»ˆæ­¢æ“ä½œã€‚

"build.gradle":

```groovy
configurations.all {
    resolutionStrategy {
        // ç¦ç”¨é»˜è®¤çš„ä¾èµ–å†²çªç­–ç•¥ï¼Œè€Œæ˜¯æŠ¥é”™ç»ˆæ­¢ã€‚
        failOnVersionConflict()
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
configurations.all {
    resolutionStrategy {
        // ç¦ç”¨é»˜è®¤çš„ä¾èµ–å†²çªç­–ç•¥ï¼Œè€Œæ˜¯æŠ¥é”™ç»ˆæ­¢ã€‚
        failOnVersionConflict()
    }
}
```

æ­¤æ—¶æˆ‘ä»¬å†æ‰§è¡ŒGradleå‘½ä»¤ï¼ŒæŸ¥çœ‹"app"æ¨¡å—çš„ä¾èµ–å…³ç³»ã€‚

```text
# æŸ¥çœ‹"app"æ¨¡å—çš„ä¾èµ–å…³ç³»
[root@Fedora Project]# ./gradlew app:dependencies

Execution failed for task ':dependencies'.
> Could not resolve all dependencies for configuration ':runtimeClasspath'.
   > Conflict(s) found for the following module(s):
       - com.google.code.gson:gson between versions 2.9.1 and 2.9.0

# æ­¤å¤„çœç•¥éƒ¨åˆ†è¾“å‡ºå†…å®¹...
```

ä»ä¸Šè¿°è¾“å‡ºä¿¡æ¯å¯çŸ¥ï¼ŒGSONç»„ä»¶çš„ç‰ˆæœ¬å‡ºç°äº†å†²çªï¼Œå¯¼è‡´æ— æ³•æ‰§è¡Œåç»­ä»»åŠ¡ã€‚

æˆ‘ä»¬åœ¨å£°æ˜ä¾èµ–é¡¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `exclude` æŒ‡ä»¤æ’é™¤æŒ‡å®šçš„ç»„ä»¶ï¼Œé˜»æ­¢å…¶é€šè¿‡ä¾èµ–æ ‘ä¼ é€’ç»™å…¶ä»–æ¨¡å—ã€‚

ä»¥å‰æ–‡å·¥ç¨‹ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹"app"æ¨¡å—çš„ä¾èµ–é…ç½®ï¼Œå°†ç‰ˆæœ¬å·è¾ƒé«˜çš„GSONç»„ä»¶("2.9.1")æ’é™¤ã€‚

"build.gradle":

```groovy
dependencies {
    implementation project(':library01')
    implementation(project(':library02')) {
        // æ’é™¤è¯¥æ¨¡å—ä¼ é€’çš„GSONä¾èµ–
        exclude group: 'com.google.code.gson', module: 'gson'

        // æ’é™¤è¯¥æ¨¡å—ä¼ é€’çš„"com.google.code.gson"ç»„æ‰€æœ‰ç»„ä»¶
        exclude group: 'com.google.code.gson'
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
dependencies {
    implementation(project(":library01"))
    implementation(project(":library02")) {
        // æ’é™¤è¯¥æ¨¡å—ä¼ é€’çš„GSONä¾èµ–
        exclude("com.google.code.gson", "gson")

        // æ’é™¤è¯¥æ¨¡å—ä¼ é€’çš„"com.google.code.gson"ç»„æ‰€æœ‰ç»„ä»¶
        exclude("com.google.code.gson")
    }
}
```

æ­¤æ—¶"app"æ¨¡å—åªä¼šè§£æåˆ°"library01"ä¼ é€’çš„GSONç‰ˆæœ¬"2.9.0"ï¼Œè€Œ"library02"ä¼ é€’çš„GSONä¾èµ–é¡¹è¢«å±è”½äº†ï¼Œå†²çªå¾—ä»¥è§£å†³ã€‚

å¦‚æœæˆ‘ä»¬éœ€è¦æ’é™¤æŸä¸ªGroupä¸‹çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¯ä»¥åªä¹¦å†™ `exclude group: <GroupID>` ï¼Œçœç•¥ `module` éƒ¨åˆ†ã€‚

## æŒ‡å®šç»„ä»¶ç‰ˆæœ¬
æˆ‘ä»¬å¯ä»¥åœ¨ `resolutionStrategy {}` å°èŠ‚ä¸­ä½¿ç”¨ `force` æŒ‡ä»¤æŒ‡å®šæŸä¸ªç»„ä»¶çš„ç‰ˆæœ¬ï¼Œè¯¥é…ç½®ä¼šè¦†ç›–æ‰€æœ‰ä¾èµ–ä¼ é€’çš„ç»„ä»¶ç‰ˆæœ¬ã€‚

"build.gradle":

```groovy
configurations.all {
    resolutionStrategy {
        // æŒ‡å®šGSONç»„ä»¶çš„ç‰ˆæœ¬
        force "com.google.code.gson:gson:2.10.1"
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
configurations.all {
    resolutionStrategy {
        // æŒ‡å®šGSONç»„ä»¶çš„ç‰ˆæœ¬
        force("com.google.code.gson:gson:2.10.1")
    }
}

allprojects {
    forceVersion {
        // æŒ‡å®š"org.jetbrains.kotlin"ç»„å†…æ‰€æœ‰ç»„ä»¶çš„ç‰ˆæœ¬
        add("org.jetbrains.kotlin", "1.7.20")
    }
}
```

æ­¤æ—¶"app"æ¨¡å—åº”ç”¨çš„GSONç‰ˆæœ¬ä¸º"2.10.1"ï¼Œ"library01"å’Œ"library02"æ‰€ä¼ é€’çš„GSONç‰ˆæœ¬å‡ä¸ç”Ÿæ•ˆã€‚

> ğŸš© æç¤º
>
> å¦‚æœæˆ‘ä»¬ä½¿ç”¨Kotlin DSLç¼–å†™Gradleè„šæœ¬ï¼Œä¹Ÿå¯ä»¥å°† `forceVersion {}` å°èŠ‚æ”¾ç½®åœ¨æŸä¸ªæ¨¡å—çš„ `build.gradle.kts` æ–‡ä»¶ä¸­ï¼Œä¸å¿…æ”¾ç½®åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­ã€‚

# ç‰ˆæœ¬ç®¡ç†
## èƒŒæ™¯
å½“å•ä¸€å·¥ç¨‹ä¸­æœ‰è®¸å¤šæ¨¡å—ã€æˆ–ä¸»å·¥ç¨‹åŒ…æ‹¬å¤šä¸ªå­å·¥ç¨‹æ—¶ï¼Œå•ç‹¬ç»´æŠ¤æ¯ä¸ªæ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬å°†ä¼šå˜å¾—ååˆ†å›°éš¾ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›å‡çº§æŸä¸ªç»„ä»¶ï¼Œå°±è¦äººå·¥å¯»æ‰¾æ¯ä¸€å¤„æ¶‰åŠè¯¥ç»„ä»¶çš„å£°æ˜è¯­å¥ï¼Œå¹¶ä¿®æ”¹å…¶ä¸­çš„ç‰ˆæœ¬å·ï¼›è¿™äº›æ“ä½œæ¯”è¾ƒç¹çï¼Œå¹¶ä¸”å®¹æ˜“é—æ¼å’Œå‡ºé”™ã€‚

ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•ï¼Œç»Ÿä¸€å®šä¹‰ä¾èµ–ç»„ä»¶åç§°ä¸ç‰ˆæœ¬ï¼Œå¹¶åœ¨å„ä¸ªæ¨¡å—ä¸­å¼•ç”¨ã€‚å½“æˆ‘ä»¬å¸Œæœ›å‡çº§ç»„ä»¶æ—¶ï¼Œåªéœ€ä¿®æ”¹å®šä¹‰ç»„ä»¶çš„ä¸€å¤„é…ç½®ï¼Œå³å¯æ›´æ–°æ‰€æœ‰å­æ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬ã€‚

## "ext"å±æ€§
### ç®€ä»‹
Gradleè„šæœ¬ä¸­çš„ `ext {}` å—èƒ½å¤Ÿç”¨æ¥å®šä¹‰å…¨å±€å˜é‡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ `ext {}` å—ä¸­å®šä¹‰ç»„ä»¶åç§°ä¸ç‰ˆæœ¬ï¼Œç„¶ååœ¨å­æ¨¡å—çš„ä¾èµ–å£°æ˜è¯­å¥ä¸­è°ƒç”¨å®ƒä»¬ã€‚

è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼šIDEæ— æ³•è¯†åˆ« `ext {}` å—ä¸­çš„å…¨å±€å˜é‡ï¼Œå› æ­¤ä¹¦å†™ä¾èµ–å£°æ˜çš„è¿‡ç¨‹ä¸­æ²¡æœ‰ä»£ç æç¤ºï¼Œä½¿ç”¨é¼ æ ‡ç‚¹å‡»å£°æ˜è¯­å¥ä¹Ÿæ— æ³•è·³è½¬åˆ°å®šä¹‰å˜é‡çš„æ–‡ä»¶ä¸­ï¼Œå¯¹ä½¿ç”¨è€…ä¸å¤Ÿå‹å¥½ã€‚

è¿™ç§æ–¹å¼é€‚ç”¨äºGradle 7.4.1ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå¯¹äºä½¿ç”¨Gradle 7.4.1åŠæ›´é«˜ç‰ˆæœ¬çš„å·¥ç¨‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨Version Catalogè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œè¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ Version Catalog](#version-catalog) ã€‚

### åŸºæœ¬åº”ç”¨
æˆ‘ä»¬é¦–å…ˆåœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `deps.gradle` æ–‡ä»¶ï¼Œå¹¶åœ¨ `ext {}` å—ä¸­å®šä¹‰è‹¥å¹²å…¨å±€å˜é‡ï¼Œæè¿°ç»„ä»¶åç§°ä¸ç‰ˆæœ¬ä¿¡æ¯ã€‚

"deps.gradle":

```groovy
/* å®šä¹‰ä¾èµ–ç»„ä»¶çš„ç‰ˆæœ¬ */
ext {
    /* Androidä¾èµ– */
    android = [
            "appcompat" : "androidx.appcompat:appcompat:1.5.0",
            "material"  : "com.google.android.material:material:1.8.0"
    ]

    /* ç¬¬ä¸‰æ–¹ä¾èµ– */
    thirdparty = [
            "gson" : "com.google.code.gson:gson:2.10.1"
    ]
}
```

æ¥ç€åœ¨å·¥ç¨‹æ ¹ç›®å½•é…ç½®æ–‡ä»¶ `build.gradle` çš„ä»»æ„ä½ç½®å¯¼å…¥ `deps.gradle` æ–‡ä»¶ã€‚

"build.gradle":

```groovy
// å¯¼å…¥ä¾èµ–é…ç½®æ–‡ä»¶
apply from: 'deps.gradle'
```

æ­¤æ—¶æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨å­æ¨¡å—çš„ä¾èµ–å£°æ˜è¯­å¥ä¸­å¼•ç”¨ `deps.gradle` æ–‡ä»¶å®šä¹‰çš„å˜é‡ã€‚

"build.gradle":

```groovy
// å¼•ç”¨æ ¹å·¥ç¨‹"ext"å—ä¸­çš„å˜é‡
dependencies {
    implementation this.rootProject.ext.android.appcompat
    implementation this.rootProject.ext.android.material
    implementation this.rootProject.ext.thirdparty.gson
}
```

ä¸ºäº†é¿å…é‡å¤ä¹¦å†™ `this.rootProject.ext` ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªå˜é‡ï¼Œå¹¶åœ¨ä¾èµ–å£°æ˜è¯­å¥ä¸­è°ƒç”¨ã€‚

"build.gradle":

```groovy
// å®šä¹‰å˜é‡
def deps = this.rootProject.ext

// é€šè¿‡"deps"å˜é‡å¼•ç”¨ä¾èµ–å£°æ˜
dependencies {
    implementation deps.android.appcompat
    implementation deps.android.material
    implementation deps.thirdparty.gson
}
```

## Version Catalog
### ç®€ä»‹
Gradle 7.4.1ä»¥åŠæ›´é«˜ç‰ˆæœ¬æ–°å¢äº†å…¨å±€ç»„ä»¶ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œåä¸ºVersion Catalogã€‚è¯¥åŠŸèƒ½å¯ä»¥è¯†åˆ«Gradleæ„å»ºè„šæœ¬æˆ–é…ç½®æ–‡ä»¶ä¸­æ‰€å£°æ˜çš„ç»„ä»¶ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„å˜é‡ï¼›ä½¿ç”¨è€…å¯ä»¥åœ¨ä¾èµ–å£°æ˜è¯­å¥ä¸­å¼•ç”¨è¿™äº›å˜é‡ï¼Œå®ç°ç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†ã€‚

å½“æˆ‘ä»¬é…ç½®è¯¥åŠŸèƒ½åï¼Œåœ¨ä¹¦å†™ä¾èµ–å£°æ˜çš„è¿‡ç¨‹ä¸­IDEèƒ½å¤Ÿè¿›è¡Œä»£ç æç¤ºï¼Œå¹¶ä¸”ä½¿ç”¨é¼ æ ‡ç‚¹å‡»å£°æ˜è¯­å¥å¯ä»¥è·³è½¬åˆ°å®šä¹‰å˜é‡çš„æ–‡ä»¶ä¸­ï¼Œå¯¹ä½¿ç”¨è€…è¾ƒä¸ºå‹å¥½ï¼Œæ˜¯å®˜æ–¹æ‰€æ¨èçš„ç®¡ç†æ–¹å¼ã€‚

### å®šä¹‰ç»„ä»¶
æˆ‘ä»¬é¦–å…ˆåœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹ `settings.gradle` é…ç½®æ–‡ä»¶çš„ `versionCatalogs {}` å°èŠ‚ä¸­å£°æ˜è‹¥å¹²ç»„ä»¶ä¿¡æ¯ã€‚

"settings.gradle":

```groovy
dependencyResolutionManagement {
    // ç‰ˆæœ¬ç®¡ç†é…ç½®
    versionCatalogs {
        // å£°æ˜å‘½åç©ºé—´"libs"
        "libs" {
            // å£°æ˜ç»„ä»¶ï¼Œåç§°ä¸º"okhttp"ï¼Œå¹¶æŒ‡å®šGroupIDã€ArtifactIDå’Œç‰ˆæœ¬å·
            library("okhttp", "com.squareup.okhttp3:okhttp:4.11.0")

            // å£°æ˜ç»„ä»¶ï¼Œåç§°ä¸º"gson"ï¼Œå¹¶æŒ‡å®šGroupIDã€ArtifactIDï¼Œå•ç‹¬æŒ‡å®šç‰ˆæœ¬å·
            library("gson", "com.google.code.gson", "gson").version("2.10.1")
        }
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
dependencyResolutionManagement {
    // ç‰ˆæœ¬ç®¡ç†é…ç½®
    versionCatalogs {
        // å£°æ˜å‘½åç©ºé—´"libs"
        create("libs") {
            // å£°æ˜ç»„ä»¶ï¼Œåç§°ä¸º"okhttp"ï¼Œå¹¶æŒ‡å®šGroupIDã€ArtifactIDå’Œç‰ˆæœ¬å·
            library("okhttp", "com.squareup.okhttp3:okhttp:4.11.0")

            // å£°æ˜ç»„ä»¶ï¼Œåç§°ä¸º"gson"ï¼Œå¹¶æŒ‡å®šGroupIDã€ArtifactIDï¼Œå•ç‹¬æŒ‡å®šç‰ˆæœ¬å·
            library("gson", "com.google.code.gson", "gson").version("2.10.1")
        }
    }
}
```

æ­¤æ—¶æ‰§è¡Œä¸€æ¬¡Gradleæ„å»ºä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ `<å‘½åç©ºé—´>.<ç»„ä»¶åç§°>` çš„æ–¹å¼å¼•ç”¨ä¸Šè¿°çš„ä¸¤ä¸ªç»„ä»¶ã€‚

"build.gradle":

```groovy
dependencies {
   implementation libs.okhttp
   implementation libs.gson
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
dependencies {
   implementation(libs.okhttp)
   implementation(libs.gson)
}
```

ç»„ä»¶åç§°å¯ä»¥ç”±å­—æ¯ã€æ•°å­—ã€æ¨ªæ ("-")ã€ä¸‹åˆ’çº¿("_")å’Œç‚¹(".")ç»„æˆï¼›å¯¹äºåä¸‰ç§ç¬¦å·ï¼ŒGradleå°†ä¼šç”Ÿæˆå…·æœ‰å¤šä¸ªå±‚çº§çš„ç»“æ„ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨å‘½åç©ºé—´"libs"ä¸­å£°æ˜ç»„ä»¶ `okhttp3-core` å’Œ `google_gson` ï¼Œåˆ™å¯¹åº”çš„å¼•ç”¨è¯­å¥å°†å˜ä¸ºä¸‹æ–‡ä»£ç å—æ‰€ç¤ºçš„å½¢å¼ã€‚

"build.gradle":

```groovy
dependencies {
   implementation libs.okhttp3.core
   implementation libs.google.gson
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
dependencies {
   implementation(libs.okhttp3.core)
   implementation(libs.google.gson)
}
```

å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›ç”Ÿæˆå¤šçº§åç§°ï¼Œå¯ä»¥ä½¿ç”¨é©¼å³°å‘½åæ³•å®šä¹‰ç»„ä»¶åç§°ï¼Œå°†ä¸Šè¿°ä¸¤ä¸ªç»„ä»¶å‘½åä¸º `okhttp3Core` å’Œ `googleGson` ã€‚

### å®šä¹‰æ’ä»¶
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `plugin()` æ–¹æ³•å®šä¹‰æ’ä»¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ’ä»¶åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ’ä»¶IDï¼›éšåå†è°ƒç”¨æ’ä»¶çš„ `version()` æ–¹æ³•å®šä¹‰ç‰ˆæœ¬å·ã€‚

"settings.gradle":

```groovy
versionCatalogs {
    "libs" {
        // å®šä¹‰Gradleæ’ä»¶
        plugin("android-app", "com.android.application").version("7.4.2")
        plugin("android-lib", "com.android.library").version("7.4.2")
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
versionCatalogs {
    create("libs") {
        // å®šä¹‰Gradleæ’ä»¶
        plugin("android-app", "com.android.application").version("7.4.2")
        plugin("android-lib", "com.android.library").version("7.4.2")
    }
}
```

æ­¤æ—¶æ‰§è¡Œä¸€æ¬¡Gradleæ„å»ºä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ `<å‘½åç©ºé—´>.plugins.<æ’ä»¶åç§°>` çš„æ–¹å¼å¼•ç”¨ä¸Šè¿°çš„ä¸¤ä¸ªæ’ä»¶ã€‚

"build.gradle":

```groovy
plugins {
    // ä½¿ç”¨"alias()"æ–¹æ³•å£°æ˜æ’ä»¶
    alias(libs.plugins.android.app) apply false
    alias(libs.plugins.android.library) apply false
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
plugins {
    // ä½¿ç”¨"alias()"æ–¹æ³•å£°æ˜æ’ä»¶
    alias(libs.plugins.android.app).apply(false)
    alias(libs.plugins.android.library).apply(false)
}
```

### å®šä¹‰ç‰ˆæœ¬
æŸäº›ç»„ä»¶çš„ç‰ˆæœ¬å·æ˜¯åŒæ­¥æ›´æ–°çš„ï¼Œä¾‹å¦‚Glideæ ¸å¿ƒåº“ä¸æ³¨è§£å¤„ç†å™¨æ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬å·ï¼Œæ­¤æ—¶æˆ‘å°±å¯ä»¥å°†ç‰ˆæœ¬å·å®šä¹‰ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å˜é‡ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `version()` æ–¹æ³•å®šä¹‰ç‰ˆæœ¬å·ï¼Œå¹¶åœ¨ç»„ä»¶ä¸æ’ä»¶å£°æ˜è¯­å¥ä¸­å¼•ç”¨ã€‚

"settings.gradle":

```groovy
// ç‰ˆæœ¬ç®¡ç†é…ç½®
versionCatalogs {
    // å£°æ˜å‘½åç©ºé—´"libs"
    "libs" {
        // å®šä¹‰Glideåº“çš„ç‰ˆæœ¬
        version("glide", "4.16.0")

        // å£°æ˜ç»„ä»¶ï¼Œå¹¶æŒ‡å®šç‰ˆæœ¬å·ä¸ºä¸Šæ–‡"version()"æ–¹æ³•æ‰€å®šä¹‰çš„ç‰ˆæœ¬ã€‚
        library("glide", "com.github.bumptech.glide", "glide").versionRef("glide")
        library("glide_compiler", "com.github.bumptech.glide", "compiler").versionRef("glide")
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
versionCatalogs {
    create("libs") {
        // å®šä¹‰Glideåº“çš„ç‰ˆæœ¬
        version("glide", "4.16.0")

        // å£°æ˜ç»„ä»¶ï¼Œå¹¶æŒ‡å®šç‰ˆæœ¬å·ä¸ºä¸Šæ–‡"version()"æ–¹æ³•æ‰€å®šä¹‰çš„ç‰ˆæœ¬ã€‚
        library("glide", "com.github.bumptech.glide", "glide").versionRef("glide")
        library("glide_compiler", "com.github.bumptech.glide", "compiler").versionRef("glide")
    }
}
```

åœ¨ç»„ä»¶ä¸æ’ä»¶å£°æ˜è¯­å¥ä¸­ï¼Œ `versionRef()` æ–¹æ³•è¡¨ç¤ºå¼•ç”¨ `version()` æ–¹æ³•æ‰€å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œå‚æ•°ä¸ºç‰ˆæœ¬å·çš„åç§°ã€‚

### å®šä¹‰ç¼–ç»„
å¦‚æœæˆ‘ä»¬ç»å¸¸ä½¿ç”¨å¤šä¸ªç‰¹å®šçš„ç»„ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨Version Catalogæä¾›çš„BundleåŠŸèƒ½ï¼Œå°†å®ƒä»¬å®šä¹‰ä¸ºä¸€ä¸ªç¼–ç»„ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦å£°æ˜å¯¹äºç¼–ç»„çš„å¼•ç”¨ï¼Œå³å¯å¼•å…¥ç¼–ç»„å†…æ‰€æœ‰çš„ç»„ä»¶ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `bundle()` æ–¹æ³•å®šä¹‰ç¼–ç»„ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¼–ç»„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œè¡¨é¡¹ä¸ºéœ€è¦å…³è”çš„ç»„ä»¶åç§°ã€‚

"settings.gradle":

```groovy
// ç‰ˆæœ¬ç®¡ç†é…ç½®
versionCatalogs {
    "libs" {
        library("coil-core", "io.coil-kt", "coil").version("1.1.1")
        library("coil-gif", "io.coil-kt", "coil-gif").version("0.9.5")

        // å£°æ˜Bundleï¼Œåä¸º"coil-all"ï¼ŒåŒ…æ‹¬ä¸Šè¿°ä¸¤ä¸ªç»„ä»¶ã€‚
        bundle("coil-all", ["coil-core", "coil-gif"])
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
versionCatalogs {
    create("libs") {
        library("coil-core", "io.coil-kt", "coil").version("1.1.1")
        library("coil-gif", "io.coil-kt", "coil-gif").version("0.9.5")

        // å£°æ˜Bundleï¼Œåä¸º"coil-all"ï¼ŒåŒ…æ‹¬ä¸Šè¿°ä¸¤ä¸ªç»„ä»¶ã€‚
        bundle("coil-all", listOf("coil-core", "coil-gif"))
    }
}
```

æ­¤æ—¶æ‰§è¡Œä¸€æ¬¡Gradleæ„å»ºä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ `<å‘½åç©ºé—´>.bundles.<Bundleåç§°>` çš„æ–¹å¼å¼•ç”¨è¯¥ç¼–ç»„ã€‚

"build.gradle":

```groovy
dependencies {
    // å£°æ˜ä¾èµ–ç¼–ç»„"coil-all"
    implementation libs.bundles.coil.all

    // ä¸Šè¿°è¯­å¥ç›¸å½“äºä»¥ä¸‹ä¸¤æ¡è¯­å¥
    implementation libs.coil.core
    implementation libs.coil.gif
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"build.gradle.kts":

```kotlin
dependencies {
    // å£°æ˜ä¾èµ–ç¼–ç»„"coil-all"
    implementation(libs.bundles.coil.all)

    // ä¸Šè¿°è¯­å¥ç›¸å½“äºä»¥ä¸‹ä¸¤æ¡è¯­å¥
    implementation(libs.coil.core)
    implementation(libs.coil.gif)
}
```

ä½¿ç”¨ç¼–ç»„çš„å‰ææ˜¯ä¾èµ–æŒ‡ä»¤å®Œå…¨ç›¸åŒï¼Œå¦‚æœä¸€äº›æ¨¡å—éœ€è¦ `implementation` æŒ‡ä»¤ï¼Œå¦å¤–ä¸€äº›æ¨¡å—éœ€è¦ `annotationProcessor` æŒ‡ä»¤ï¼Œå®ƒä»¬å°±æ— æ³•è¢«ç¼–æˆä¸€ç»„ï¼Œéœ€è¦å•ç‹¬ä¹¦å†™ã€‚

### åŠ è½½é…ç½®æ–‡ä»¶
ä¸€ä¸ªå·¥ç¨‹é€šå¸¸åŒ…æ‹¬è®¸å¤šç»„ä»¶ä¾èµ–é¡¹ï¼Œæ­¤æ—¶åœ¨Gradleé…ç½®æ–‡ä»¶ä¸­å®šä¹‰ç»„ä»¶ä¼šå æ®å¤§é‡çš„ç¯‡å¹…ï¼Œå¹¶ä¸”ä¸æ„å»ºé€»è¾‘è€¦åˆåœ¨ä¸€èµ·ï¼Œä¸ä¾¿äºè·¨å·¥ç¨‹å…±äº«é…ç½®ã€‚

Version Catalogæ”¯æŒä»TOMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ç»„ä»¶ä¸ç‰ˆæœ¬ä¿¡æ¯ï¼Œå…¶ä¸­ `[versions]` ã€ `[libraries]` ã€ `[bundles]` ã€ `[plugins]` å››ä¸ªå°èŠ‚çš„åç§°æ˜¯å›ºå®šçš„ï¼Œå®ƒä»¬çš„è¯­æ³•å¯ä»¥å‚è€ƒä¸‹æ–‡ç¤ºä¾‹ä»£ç ã€‚

"versions.toml":

```toml
# ç‰ˆæœ¬å·
[versions]
gson = "2.10.1"
agp = "7.4.2"

coil-core = "1.1.1"
coil-gif = "0.9.5"


# ç»„ä»¶
[libraries]
# ----- ç»„ä»¶å£°æ˜è¯­æ³•ç¤ºä¾‹ -----
# åˆ†åˆ«è®¾ç½®GroupIDã€ArtifactIDå’Œç‰ˆæœ¬å·
gson = { group = "com.google.code.gson", name = "gson", version = "2.10.1" }
# è®¾ç½®GroupIDã€ArtifactIDï¼Œå¹¶è®¾ç½®ç‰ˆæœ¬å·
gson2 = { module = "com.google.code.gson:gson", version = "2.10.1" }
# è®¾ç½®GroupIDã€ArtifactIDï¼Œå¹¶å¼•ç”¨"[versions]"å°èŠ‚ä¸­çš„ç‰ˆæœ¬å·
gson3 = { module = "com.google.code.gson:gson", version.ref = "gson" }


android_coil-core = { group = "io.coil-kt", name = "coil", version.ref = "coil-core" }
android_coil-gif = { group = "io.coil-kt", name = "coil-gif", version.ref = "coil-gif" }


# ç¼–ç»„
[bundles]
coil-all = ["android_coil-core", "android_coil-gif"]


# Gradleæ’ä»¶
[plugins]
android_application = { id = "com.android.application", version.ref = "agp" }
android_library = { id = "com.android.library", version.ref = "agp" }
```

åœ¨TOMLé…ç½®æ–‡ä»¶ä¸­ï¼Œç»„ä»¶åç§°å¯ä»¥ä½¿ç”¨æ¨ªæ ("-")å’Œä¸‹åˆ’çº¿("_")ï¼Œä½†ä¸èƒ½å‡ºç°ç‚¹(".")ï¼Œå®ƒä¼šä¸TOMLè¯­æ³•å†²çªï¼Œå¯¼è‡´Gradleè§£æå¤±è´¥ã€‚

`version = <å­—ç¬¦ä¸²>` è¡¨ç¤ºç›´æ¥ä½¿ç”¨æ­¤å¤„è®¾ç½®çš„å­—ç¬¦ä¸²ä½œä¸ºç‰ˆæœ¬å·ï¼Œ `version.ref = <é…ç½®é¡¹åç§°>` è¡¨ç¤ºå¼•ç”¨ `[versions]` å°èŠ‚ä¸­å¯¹åº”é…ç½®é¡¹çš„å€¼ï¼Œè¿™ä¸å‰æ–‡é€šè¿‡ä»£ç é…ç½®çš„é€»è¾‘ä¸€è‡´ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼åŠ è½½é…ç½®æ–‡ä»¶ï¼š

"settings.gradle":

```groovy
// ç‰ˆæœ¬ç®¡ç†é…ç½®
versionCatalogs {
    // å£°æ˜å‘½åç©ºé—´"libs"
    "libs" {
        // å¯¼å…¥ä¾èµ–ç‰ˆæœ¬é…ç½®æ–‡ä»¶
        from(files("./versions.toml"))
    }
}
```

ä¸Šè¿°å†…å®¹ä¹Ÿå¯ä»¥ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™ï¼š

"settings.gradle.kts":

```kotlin
dependencyResolutionManagement {
    // ç‰ˆæœ¬ç®¡ç†é…ç½®
    versionCatalogs {
        // å£°æ˜å‘½åç©ºé—´"libs"
        create("libs") {
            // å¯¼å…¥ä¾èµ–ç‰ˆæœ¬é…ç½®æ–‡ä»¶
            from(files("./versions.toml"))
        }
    }
}
```

æ­¤æ—¶æ‰§è¡Œä¸€æ¬¡Gradleæ„å»ºä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®å„é…ç½®é¡¹ï¼š

- `[versions]` : é€šè¿‡ `libs.versions.<ç‰ˆæœ¬å·åç§°>` è®¿é—®ã€‚
- `[libraries]` : é€šè¿‡ `libs.<ç»„ä»¶åç§°>` è®¿é—®ã€‚
- `[bundles]` : é€šè¿‡ `libs.bundles.<ç¼–ç»„åç§°>` è®¿é—®ã€‚
- `[plugins]` : é€šè¿‡ `libs.plugins.<ç‰ˆæœ¬å·åç§°>` è®¿é—®ã€‚

# ç–‘éš¾è§£ç­”
## ç´¢å¼•

<div align="center">

|       åºå·        |                         æ‘˜è¦                          |
| :---------------: | :---------------------------------------------------: |
| [æ¡ˆä¾‹ä¸€](#æ¡ˆä¾‹ä¸€) |    ä½¿ç”¨Kotlinè¯­è¨€æ—¶ï¼Œæ³¨è§£å¤„ç†å™¨æœªèƒ½è‡ªåŠ¨ç”Ÿæˆä»£ç ã€‚     |
| [æ¡ˆä¾‹äºŒ](#æ¡ˆä¾‹äºŒ) |        ç»„ä»¶ä¸­çš„Classé‡å¤ï¼Œä½†è®¾ç½®æ’é™¤è¯­å¥æ— æ•ˆã€‚        |
| [æ¡ˆä¾‹ä¸‰](#æ¡ˆä¾‹ä¸‰) | ç»„ä»¶ä¸‹è½½å¤±è´¥ï¼Œé”™è¯¯æ¶ˆæ¯ä¸ºæœåŠ¡ç«¯ä¸æ”¯æŒå®¢æˆ·ç«¯çš„TLSåè®®ã€‚ |

</div>

## æ¡ˆä¾‹ä¸€
### é—®é¢˜æè¿°
ä½¿ç”¨Kotlinè¯­è¨€æ—¶ï¼Œæ³¨è§£å¤„ç†å™¨æœªèƒ½è‡ªåŠ¨ç”Ÿæˆä»£ç ã€‚

åœ¨Kotliné¡¹ç›®ä¸­ï¼Œå¼•å…¥äº†å«æœ‰è‡ªå®šä¹‰æ³¨è§£çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ­¤æ—¶ç¨‹åºè¿è¡Œåæç¤ºâ€œæ‰¾ä¸åˆ°ç›¸å…³çš„ç±»â€ã€‚å½“æˆ‘ä»¬æŸ¥çœ‹ç¼–è¯‘äº§ç‰©æ—¶ï¼Œå…¶ä¸­ç¡®å®æ²¡æœ‰æ³¨è§£ç”Ÿæˆçš„ä»£ç ã€‚

### é—®é¢˜åˆ†æ
Kotlinç¼–è¯‘å™¨å¹¶ä¸èƒ½è¯†åˆ« `annotationProcessor` æŒ‡ä»¤ï¼Œå› æ­¤æ²¡æœ‰æ­£ç¡®çš„å¤„ç†æ³¨è§£å¹¶ç”Ÿæˆç›¸å…³ä»£ç ï¼Œå¯¼è‡´å‡ºç°ä¸Šè¿°é”™è¯¯ã€‚

è¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ ä¾èµ–æŒ‡ä»¤](#ä¾èµ–æŒ‡ä»¤) ã€‚

### è§£å†³æ–¹æ¡ˆ
å°†æ‰€æœ‰çš„ `annotationProcessor` æŒ‡ä»¤æ›¿æ¢ä¸º `kapt` æŒ‡ä»¤ã€‚

è¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ ä¾èµ–æŒ‡ä»¤](#ä¾èµ–æŒ‡ä»¤) ã€‚

## æ¡ˆä¾‹äºŒ
### é—®é¢˜æè¿°
ç»„ä»¶ä¸­çš„Classé‡å¤ï¼Œä½†è®¾ç½®æ’é™¤è¯­å¥æ— æ•ˆã€‚

### é—®é¢˜åˆ†æ
ç»æ£€æŸ¥å‘ç°è¢«å¼•å…¥çš„ç»„ä»¶å†…éƒ¨é€šè¿‡ `forceVersion {}` å°èŠ‚å¼ºåˆ¶æŒ‡å®šäº†ç»„ä»¶ç‰ˆæœ¬ï¼Œå¯¼è‡´æ’é™¤è¯­å¥å¹¶æœªç”Ÿæ•ˆã€‚

### è§£å†³æ–¹æ¡ˆ
åœ¨å·¥ç¨‹æ ¹ç›®å½•çš„ `build.gradle` æ–‡ä»¶ä¸­æ·»åŠ  `forceVersion {}` å°èŠ‚ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå¯ä»¥ä½¿ç¨‹åºæ­£å¸¸è¿è¡Œçš„ç‰ˆæœ¬ã€‚

è¯¦è§ç›¸å…³ç« èŠ‚ï¼š [ğŸ§­ æŒ‡å®šç»„ä»¶ç‰ˆæœ¬](#æŒ‡å®šç»„ä»¶ç‰ˆæœ¬) ã€‚

## æ¡ˆä¾‹ä¸‰
### é—®é¢˜æè¿°
ç»„ä»¶ä¸‹è½½å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯ä¸ºï¼š `The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3)` ã€‚

```text
Could not resolve all files for configuration 'classpath'.
> Could not resolve org.gradle.toolchains:foojay-resolver:0.8.0.
  Required by:
      unspecified:unspecified:unspecified > org.gradle.toolchains.foojay-resolver-convention:org.gradle.toolchains.foojay-resolver-convention.gradle.plugin:0.8.0
   > Could not resolve org.gradle.toolchains:foojay-resolver:0.8.0.
      > Could not get resource 'https://plugins.gradle.org/m2/org/gradle/toolchains/foojay-resolver/0.8.0/foojay-resolver-0.8.0.pom'.
         > Could not GET 'https://plugins.gradle.org/m2/org/gradle/toolchains/foojay-resolver/0.8.0/foojay-resolver-0.8.0.pom'.
            > The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. For more on this, please refer to https://docs.gradle.org/8.5/userguide/build_environment.html#sec:gradle_system_properties in the Gradle documentation.
               > Remote host terminated the handshake
```

### é—®é¢˜åˆ†æ
æœ‰äº›é•œåƒæœåŠ¡å™¨ä½¿ç”¨çš„TLSåè®®ç‰ˆæœ¬ä¸º1.0ï¼Œå®¢æˆ·ç«¯å‡ºäºå®‰å…¨è€ƒè™‘ç¦ç”¨äº†è¿™ç§è¿‡æ—¶çš„åè®®ï¼Œå› æ­¤ç¦æ­¢è¿æ¥ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯ç½‘ç»œç¯å¢ƒä¸­çš„ä»£ç†æœåŠ¡å™¨ã€é˜²ç«å¢™ç­‰å®‰å…¨è®¾æ–½ä¹Ÿå¯èƒ½é˜»æ–­ä¸‹è½½è¿‡ç¨‹ã€‚

### è§£å†³æ–¹æ¡ˆ
æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œå°è¯•è§£å†³è¯¥é—®é¢˜ï¼š

- å†æ‰§è¡Œä¸€æ¬¡Gradleä»»åŠ¡ï¼Œé‡æ–°ä¸‹è½½ä¾èµ–ç»„ä»¶ã€‚
- æ›´æ¢ç½‘ç»œç¯å¢ƒã€ä»£ç†æœåŠ¡å™¨ã€é˜²ç«å¢™ç­–ç•¥ç­‰ã€‚
- æ›´æ¢é•œåƒæœåŠ¡å™¨ã€‚
