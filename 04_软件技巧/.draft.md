# Git - 概述

什么是版本库呢？版本库又名仓库，英文名repository，你可以简单理解成一个目录，这个目录里面的所有文件都可以被Git管理起来，每个文件的修改、删除，Git都能跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻可以“还原”。

---

# CMake - 概述

TODO

---

# CMake - 基础用法

# 安装

TODO

# 基本应用



```text
Project
├── cmake-build-debug/
│   └── 构建缓存文件...
├── CMakeLists.txt
└── main.c
```





"CMakeLists.txt":

```cmake
# 声明该工程可使用的最低CMake版本
cmake_minimum_required(VERSION 3.23)

# 工程名称
# 我们可以通过"CMAKE_PROJECT_NAME"变量访问该名称
project(Study-C)

# 设置变量的值
# 变量"CMAKE_C_STANDARD"表示C语言标准版本，此处将其设为"C99"。
set(CMAKE_C_STANDARD 99)

# 添加编译任务：编译一个可执行文件
add_executable(
        # 构建产物的名称
        BuildResult

        # 需要参与编译的源代码文件列表
        # 存在多个文件时可以换行书写或使用空格分隔。
        main.c)
```


---

# IDEA

# 禁用语法检查

Java -> Code Maturity :

Call to printstacktrace()

Commented out code


Java -> Declaration redundancy :

Method parameter always has the same value

Method can be made 'void'


Kotlin -> Style Issues

Class member can have 'private' visibility


Android:Correctness -> Ignoreing Results


# Java-Gradle项目改用命令行运行

Build Tool -> Gradle -> Build and Run

将默认的Gradle修改为Intellij

能够解决控制台乱码问题，以及提高运行速度。



# android studio

gradle乱码

双击Shift，输入vmoption,，选择Edit Custom CM Options

添加

-Dfile.encoding=UTF-8


---

# Maven

maven项目pom依赖中scope标签的使用

pom.xml中
<dependency>
       <groupId>com.github.wxiaoqi</groupId>
       <artifactId>ace-common</artifactId>
       <version>2.0-SNAPSHOT</version>
       <scope>provided</scope>
  </dependency>

maven项目中，如果存在编译需要而发布不需要的jar包，可以用scope标签，值设为provided。

Scope标签的其他值如下：
compile：默认的scope，表示 dependency 都可以在生命周期中使用。
而且，这些dependencies 会传递到依赖的项目中。适用于所有阶段，会随着项目一起发布
provided：跟compile相似，但是表明了dependency 由JDK或者容器提供，例如Servlet AP和一些Java EE APIs。这个scope 只能作用在编译和测试时，同时没有传递性，即：child module无法引用。
runtime：表示dependency不作用在编译时，但会作用在运行和测试时，如JDBC驱动，适用运行和测试阶段，与provided相反。
test：表示dependency作用在测试时，不作用在运行时。 只在测试时使用，用于编译和运行测试代码。不会随项目发布。
system：跟provided 相似，但是在系统中要以外部JAR包的形式提供，maven不会在repository查找它。


---

# Gerrit

# 确保提交的分支与本地一致

```text
alias gerrit-push='branch=$(git branch -a | grep \*); branch=$(echo ${branch##* }); git push origin HEAD:refs/for/$branch'
```

---

# Windows Terminal

禁止自带的右键菜单。

并非通过常见的路径注册(计算机\HKEY_CLASSES_ROOT\Directory\Background\shell)，因此无法找到对应的内容。

经测试只需删除：计算机\HKEY_CLASSES_ROOT\PackagedCom\ClassIndex{9f156763-7844-4dc4-b2b1-901f640f5155} 就可以了

---

# Gradle动态调整仓库

```
afterEvaluate {
    repositories.removeAll { repo ->
        if(repo instanceof MavenArtifactRepository){
            MavenArtifactRepository repo2 = (MavenArtifactRepository) repo
            println('url --->' + repo2.getUrl())
            if (repo2.getUrl().toString().startsWith("https://su5ed.jfrog.io/")){
                return true
            }else {
                return false
            }
        }

        return false
    }
}
```


---

# Nexus Repo

API文档

https://help.sonatype.com/en/automation.html

下载地址：

https://help.sonatype.com/en/download.html


安装


nexus-3.84.1-01-linux-x86_64.tar.gz


# 创建专用用户
useradd nexus -s /sbin/nologin 


# 解压
tar -zxf nexus-3.84.1-01-linux-x86_64.tar.gz

nexus-3.84.1-01 程序目录
sonatype-work 数据目录模板

# 将程序目录移动到安装目录
sudo chown -R root:root nexus-3.84.1-01
mv nexus-3.84.1-01 /opt
ln -sn nexus-3.84.1-01 nexus3

# 将数据目录移动到数据目录
sudo chown -R nexus:nexus sonatype-work
mv sonatype-work /srv


# 修改配置文件，路径与实际匹配
sudo vim nexus.vmoptions

-XX:LogFile=/srv/nexus3/log/jvm.log
-XX:-OmitStackTraceInFastThrow
-Dkaraf.home=.
-Dkaraf.base=.
-Djava.util.logging.config.file=etc/spring/java.util.logging.properties
-Dkaraf.data=/srv/nexus3
-Dkaraf.log=/srv/nexus3/log
-Djava.io.tmpdir=/srv/nexus3/tmp


# 编写服务管理脚本

sudo vim /etc/systemd/system/nexus3.service

[Unit]
Description=Nexus daemon.

[Service]
Type=forking
LimitNOFILE=65536
ExecStart=/opt/nexus3/bin/nexus start
ExecStop=/opt/nexus3/bin/nexus stop
User=nexus
Restart=on-abort

[Install]
WantedBy=multi-user.target



默认密码
cat /srv/nexus3/admin.password
8b3be07c-f242-4f6b-a7e8-64672efab3d3


Default Secret Encryption Key	Nexus was not configured with an encryption key and is using the Default key.

mkdir -p /srv/nexus3/secrets
vim /srv/nexus3/secrets/keys.json

{
  "active": "default",
  "keys": [
    {
      "id": "default",
      "key": "Qwer1234."
    }
  ]
}


/srv/nexus3/etc/nexus.properties


nexus.secrets.file=/srv/nexus3/secrets/keys.json



NX-ANTI-CSRF-TOKEN 0.5415244067277541

curl -X 'PUT' \
  'http://127.0.0.1:8081/service/rest/v1/secrets/encryption/re-encrypt' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -H 'NX-ANTI-CSRF-TOKEN: 0.5415244067277541' \
  -H 'X-Nexus-UI: true' \
  -d '{
  "secretKeyId": "default",                
  "notifyEmail": "bi4vmr@outlook.com"
}'


# QEMU
## SPICE-windows无法自动调整窗口
使用spice客户端时，windows无法自动调整窗口大小。

需要在虚拟机上安装spice-vdagent驱动：

https://www.spice-space.org/download/windows/vdagent/vdagent-win-0.10.0



## 默认存储池无法删除或更改

需要删除原先的存储池并创建新的，名字必须是default


# Sublime

激活：

Sublime Text Build 4152 Linux

echo 00415013: 48 C7 C0 00 00 00 00 C3 | xxd -r - sublime_text
echo 00409037: 90 90 90 90 90          | xxd -r - sublime_text
echo 0040904F: 90 90 90 90 90          | xxd -r - sublime_text
echo 00416CA4: C3                      | xxd -r - sublime_text
echo 00414C82: C3                      | xxd -r - sublime_text


Sublime Merge 2091 Linux


echo 004E1752: 48 C7 C0 01 00 00 00 C3 | xxd -r - sublime_merge
echo 004E48DD: 90 90 90 90 90          | xxd -r - sublime_merge
echo 004E48F5: 90 90 90 90 90          | xxd -r - sublime_merge
echo 004E2FD6: C3                      | xxd -r - sublime_merge
echo 004E145C: C3                      | xxd -r - sublime_merge
